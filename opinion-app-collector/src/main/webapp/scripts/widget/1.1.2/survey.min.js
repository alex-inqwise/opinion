/*! showdown 18-06-2015 */
(function(){var d={},n={},k={},f={omitExtraWLInCodeBlocks:false,prefixHeaderId:false,noHeaderId:false,headerLevelStart:1,parseImgDimensions:false},i=JSON.parse(JSON.stringify(f));d.helper={};d.extensions={};d.setOption=function(o,p){i[o]=p;return this};d.getOption=function(o){return i[o]};d.getOptions=function(){return i};d.resetOptions=function(){i=JSON.parse(JSON.stringify(f))};d.getDefaultOptions=function(){return f};d.subParser=function(o,p){if(d.helper.isString(o)){if(typeof p!=="undefined"){n[o]=p}else{if(n.hasOwnProperty(o)){return n[o]}else{throw Error("SubParser named "+o+" not registered!")}}}};d.extension=function(o,p){if(!d.helper.isString(o)){throw Error("Extension 'name' must be a string")}o=d.helper.stdExtName(o);if(d.helper.isUndefined(p)){if(!k.hasOwnProperty(o)){throw Error("Extension named "+o+" is not registered!")}return k[o]}else{if(typeof p==="function"){p=p()}if(!d.helper.isArray(p)){p=[p]}var q=m(p,o);if(q.valid){k[o]=p}else{throw Error(q.error)}}};d.getAllExtensions=function(){return k};d.removeExtension=function(o){delete k[o]};d.resetExtensions=function(){k={}};function m(w,q){var v=(q)?"Error in "+q+" extension->":"Error in unnamed extension",p={valid:true,error:""};if(!d.helper.isArray(w)){w=[w]}for(var r=0;r<w.length;++r){var o=v+"sub-extension "+r+": ",t=w[r];if(typeof t!=="object"){p.valid=false;p.error=o+"must be an object, but "+typeof t+" given";return p}if(!d.helper.isString(t.type)){p.valid=false;p.error=o+'property "type" must be a string, but '+typeof t.type+" given";return p}var s=t.type=t.type.toLowerCase();if(s==="language"){s=t.type="lang"}if(s==="html"){s=t.type="output"}if(s!=="lang"&&s!=="output"){p.valid=false;p.error=o+"type "+s+' is not recognized. Valid values: "lang" or "output"';return p}if(t.filter){if(typeof t.filter!=="function"){p.valid=false;p.error=o+'"filter" must be a function, but '+typeof t.filter+" given";return p}}else{if(t.regex){if(d.helper.isString(t.regex)){t.regex=new RegExp(t.regex,"g")}if(!t.regex instanceof RegExp){p.valid=false;p.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof t.regex+" given";return p}if(d.helper.isUndefined(t.replace)){p.valid=false;p.error=o+'"regex" extensions must implement a replace string or function';return p}}else{p.valid=false;p.error=o+'extensions must define either a "regex" property or a "filter" method';return p}}if(d.helper.isUndefined(t.filter)&&d.helper.isUndefined(t.regex)){p.valid=false;p.error=o+"output extensions must define a filter property";return p}}return p}d.validateExtension=function(p){var o=m(p,null);if(!o.valid){console.warn(o.error);return false}return true};if(!d.hasOwnProperty("helper")){d.helper={}}d.helper.isString=function c(o){return(typeof o==="string"||o instanceof String)};d.helper.forEach=function j(p,q){if(typeof p.forEach==="function"){p.forEach(q)}else{for(var o=0;o<p.length;o++){q(p[o],o,p)}}};d.helper.isArray=function g(o){return o.constructor===Array};d.helper.isUndefined=function e(o){return typeof o==="undefined"};d.helper.stdExtName=function(o){return o.replace(/[_-]||\s/g,"").toLowerCase()};function b(o,q){var p=q.charCodeAt(0);return"~E"+p+"E"}d.helper.escapeCharactersCallback=b;d.helper.escapeCharacters=function a(s,p,q){var o="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";if(q){o="\\\\"+o}var r=new RegExp(o,"g");s=s.replace(r,b);return s};if(d.helper.isUndefined(console)){console={warn:function(o){alert(o)},log:function(o){alert(o)}}}d.Converter=function(v){var q={omitExtraWLInCodeBlocks:false,prefixHeaderId:false,noHeaderId:false},p=[],t=[],s=["githubCodeBlocks","hashHTMLBlocks","stripLinkDefinitions","blockGamut","unescapeSpecialChars"];w();function w(){v=v||{};for(var z in i){if(i.hasOwnProperty(z)){q[z]=i[z]}}if(typeof v==="object"){for(var y in v){if(v.hasOwnProperty(y)){q[y]=v[y]}}}else{throw Error("Converter expects the passed parameter to be an object, but "+typeof v+" was passed instead.")}if(q.extensions){d.helper.forEach(q.extensions,r)}}function r(z){if(d.helper.isString(z)){z=d.helper.stdExtName(z);if(d.extensions[z]){console.warn("DEPRECATION WARNING: "+z+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");o(d.extensions[z],z);return}else{if(!d.helper.isUndefined(k[z])){z=k[z]}else{throw Error('Extension "'+z+'" could not be loaded. It was either not found or is not a valid extension.')}}}if(typeof z==="function"){z=z()}if(!d.helper.isArray(z)){z=[z]}if(!d.validateExtension(z)){return}for(var y=0;y<z.length;++y){switch(z[y].type){case"lang":p.push(z[y]);break;case"output":t.push(z[y]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}}function o(A,y){if(typeof A==="function"){A=A(new d.Converter())}if(!d.helper.isArray(A)){A=[A]}var B=m(A,y);if(!B.valid){throw Error(B.error)}for(var z=0;z<A.length;++z){switch(A[z].type){case"lang":p.push(A[z]);break;case"output":t.push(A[z]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}}this.makeHtml=function(B){if(!B){return B}var A={gHtmlBlocks:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:p,outputModifiers:t,converter:this};B=B.replace(/\$/g,"~D");B=B.replace(/\r\n/g,"\n");B=B.replace(/\r/g,"\n");B="\n\n"+B+"\n\n";B=d.subParser("detab")(B,q,A);B=d.subParser("stripBlankLines")(B,q,A);d.helper.forEach(p,function(C){B=d.subParser("runExtension")(C,B,q,A)});for(var z=0;z<s.length;++z){var y=s[z];B=n[y](B,q,A)}B=B.replace(/~D/g,"$$");B=B.replace(/~T/g,"~");d.helper.forEach(t,function(C){B=d.subParser("runExtension")(C,B,q,A)});return B};this.setOption=function(y,z){q[y]=z};this.getOption=function(y){return q[y]};this.getOptions=function(){return q};this.addExtension=function(y){r(y)};this.useExtension=function(y){r(y)};this.removeExtension=function(C){if(!d.helper.isArray(C)){C=[C]}for(var y=0;y<C.length;++y){var B=C[y];for(var z=0;z<p.length;++z){if(p[z]===B){p[z].splice(z,1)}}for(var A=0;A<t.length;++z){if(t[A]===B){t[A].splice(z,1)}}}};this.getAllExtensions=function(){return{language:p,output:t}}};d.subParser("anchors",function(r,p,q){var o=function(y,F,E,D,C,A,w,v){if(d.helper.isUndefined(v)){v=""}y=F;var t=E,B=D.toLowerCase(),s=C,z=v;if(!s){if(!B){B=t.toLowerCase().replace(/ ?\n/g," ")}s="#"+B;if(!d.helper.isUndefined(q.gUrls[B])){s=q.gUrls[B];if(!d.helper.isUndefined(q.gTitles[B])){z=q.gTitles[B]}}else{if(y.search(/\(\s*\)$/m)>-1){s=""}else{return y}}}s=d.helper.escapeCharacters(s,"*_",false);var G='<a href="'+s+'"';if(z!==""&&z!==null){z=z.replace(/"/g,"&quot;");z=d.helper.escapeCharacters(z,"*_",false);G+=' title="'+z+'"'}G+=">"+t+"</a>";return G};r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,o);r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,o);r=r.replace(/(\[([^\[\]]+)\])()()()()()/g,o);return r});d.subParser("autoLinks",function(p){p=p.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');var o=/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;p=p.replace(o,function(q,s){var r=d.subParser("unescapeSpecialChars")(s);return d.subParser("encodeEmailAddress")(r)});return p});d.subParser("blockGamut",function(r,o,q){r=d.subParser("headers")(r,o,q);var p=d.subParser("hashBlock")("<hr />",o,q);r=r.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,p);r=r.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,p);r=r.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,p);r=d.subParser("lists")(r,o,q);r=d.subParser("codeBlocks")(r,o,q);r=d.subParser("blockQuotes")(r,o,q);r=d.subParser("hashHTMLBlocks")(r,o,q);r=d.subParser("paragraphs")(r,o,q);return r});d.subParser("blockQuotes",function(q,o,p){q=q.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(r,s){var t=s;t=t.replace(/^[ \t]*>[ \t]?/gm,"~0");t=t.replace(/~0/g,"");t=t.replace(/^[ \t]+$/gm,"");t=d.subParser("blockGamut")(t,o,p);t=t.replace(/(^|\n)/g,"$1  ");t=t.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(v,w){var y=w;y=y.replace(/^  /mg,"~0");y=y.replace(/~0/g,"");return y});return d.subParser("hashBlock")("<blockquote>\n"+t+"\n</blockquote>",o,p)});return q});d.subParser("codeBlocks",function(r,o,p){r+="~0";var q=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;r=r.replace(q,function(t,w,v){var y=w,z=v,s="\n";y=d.subParser("outdent")(y);y=d.subParser("encodeCode")(y);y=d.subParser("detab")(y);y=y.replace(/^\n+/g,"");y=y.replace(/\n+$/g,"");if(o.omitExtraWLInCodeBlocks){s=""}y="<pre><code>"+y+s+"</code></pre>";return d.subParser("hashBlock")(y,o,p)+z});r=r.replace(/~0/,"");return r});d.subParser("codeSpans",function(o){o=o.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(q,s,r,p){var t=p;t=t.replace(/^([ \t]*)/g,"");t=t.replace(/[ \t]*$/g,"");t=d.subParser("encodeCode")(t);return s+"<code>"+t+"</code>"});return o});d.subParser("detab",function(o){o=o.replace(/\t(?=\t)/g,"    ");o=o.replace(/\t/g,"~A~B");o=o.replace(/~B(.+?)~A/g,function(p,r){var t=r,q=4-t.length%4;for(var s=0;s<q;s++){t+=" "}return t});o=o.replace(/~A/g,"    ");o=o.replace(/~B/g,"");return o});d.subParser("encodeAmpsAndAngles",function(o){o=o.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");o=o.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return o});d.subParser("encodeBackslashEscapes",function(o){o=o.replace(/\\(\\)/g,d.helper.escapeCharactersCallback);o=o.replace(/\\([`*_{}\[\]()>#+-.!])/g,d.helper.escapeCharactersCallback);return o});d.subParser("encodeCode",function(o){o=o.replace(/&/g,"&amp;");o=o.replace(/</g,"&lt;");o=o.replace(/>/g,"&gt;");o=d.helper.escapeCharacters(o,"*_{}[]\\",false);return o});d.subParser("encodeEmailAddress",function(p){var o=[function(q){return"&#"+q.charCodeAt(0)+";"},function(q){return"&#x"+q.charCodeAt(0).toString(16)+";"},function(q){return q}];p="mailto:"+p;p=p.replace(/./g,function(q){if(q==="@"){q=o[Math.floor(Math.random()*2)](q)}else{if(q!==":"){var s=Math.random();q=(s>0.9?o[2](q):s>0.45?o[1](q):o[0](q))}}return q});p='<a href="'+p+'">'+p+"</a>";p=p.replace(/">.+:/g,'">');return p});d.subParser("escapeSpecialCharsWithinTagAttributes",function(p){var o=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;p=p.replace(o,function(r){var q=r.replace(/(.)<\/?code>(?=.)/g,"$1`");q=d.helper.escapeCharacters(q,"\\`*_",false);return q});return p});d.subParser("githubCodeBlocks",function(q,o,p){q+="~0";q=q.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(s,v,t){var y=v,w=t,r="\n";if(o.omitExtraWLInCodeBlocks){r=""}w=d.subParser("encodeCode")(w);w=d.subParser("detab")(w);w=w.replace(/^\n+/g,"");w=w.replace(/\n+$/g,"");w="<pre><code"+(y?' class="'+y+'"':"")+">"+w+r+"</code></pre>";return d.subParser("hashBlock")(w,o,p)});q=q.replace(/~0/,"");return q});d.subParser("hashBlock",function(q,o,p){q=q.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(p.gHtmlBlocks.push(q)-1)+"K\n\n"});d.subParser("hashElement",function(q,o,p){return function(r,s){var t=s;t=t.replace(/\n\n/g,"\n");t=t.replace(/^\n/,"");t=t.replace(/\n+$/g,"");t="\n\n~K"+(p.gHtmlBlocks.push(t)-1)+"K\n\n";return t}});d.subParser("hashHTMLBlocks",function(q,o,p){q=q.replace(/\n/g,"\n\n");q=q.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,d.subParser("hashElement")(q,o,p));q=q.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,d.subParser("hashElement")(q,o,p));q=q.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(q,o,p));q=q.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(q,o,p));q=q.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(q,o,p));q=q.replace(/\n\n/g,"\n");return q});d.subParser("headers",function(s,o,q){var r=o.prefixHeaderId;s=s.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,y){var z=d.subParser("spanGamut")(y,o,q),w=(o.noHeaderId)?"":' id="'+p(y)+'"',v=parseInt(o.headerLevelStart),A="<h"+v+w+">"+z+"</h"+v+">";return d.subParser("hashBlock")(A,o,q)});s=s.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(z,w){var y=d.subParser("spanGamut")(w,o,q),v=(o.noHeaderId)?"":' id="'+p(w)+'"',t=parseInt(o.headerLevelStart)+1,A="<h"+t+v+">"+y+"</h"+t+">";return d.subParser("hashBlock")(A,o,q)});s=s.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(t,z,y){var A=d.subParser("spanGamut")(y,o,q),w=(o.noHeaderId)?"":' id="'+p(y)+'"',v=parseInt(o.headerLevelStart)-1+z.length,B="<h"+v+w+">"+A+"</h"+v+">";return d.subParser("hashBlock")(B,o,q)});function p(t){var w,v=t.replace(/[^\w]/g,"").toLowerCase();if(q.hashLinkCounts[v]){w=v+"-"+(q.hashLinkCounts[v]++)}else{w=v;q.hashLinkCounts[v]=1}if(r===true){r="section"}if(d.helper.isString(r)){return r+w}return w}return s});d.subParser("images",function(t,o,r){var q=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,p=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;function s(B,F,E,w,y,G,C,D){var v=r.gUrls,A=r.gTitles,z=r.gDimensions;E=E.toLowerCase();if(!D){D=""}if(w===""||w===null){if(E===""||E===null){E=F.toLowerCase().replace(/ ?\n/g," ")}w="#"+E;if(!d.helper.isUndefined(v[E])){w=v[E];if(!d.helper.isUndefined(A[E])){D=A[E]}if(!d.helper.isUndefined(z[E])){y=z[E].width;G=z[E].height}}else{return B}}F=F.replace(/"/g,"&quot;");w=d.helper.escapeCharacters(w,"*_",false);var H='<img src="'+w+'" alt="'+F+'"';if(D){D=D.replace(/"/g,"&quot;");D=d.helper.escapeCharacters(D,"*_",false);H+=' title="'+D+'"'}if(y&&G){y=(y==="*")?"auto":y;G=(G==="*")?"auto":G;H+=' width="'+y+'"';H+=' height="'+G+'"'}H+=" />";return H}t=t.replace(p,s);t=t.replace(q,s);return t});d.subParser("italicsAndBold",function(o){o=o.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>");o=o.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return o});d.subParser("underlineAndStrike",function(o){o=o.replace(/(\~\~|__)(?=\S)([^\r]*?\S[~_]*)\1/g,"<s>$2</s>");o=o.replace(/(\~|_)(?=\S)([^\r]*?\S)\1/g,"<u>$2</u>");return o});d.subParser("lists",function(v,p,s){var t="~1";function o(w){s.gListLevel++;w=w.replace(/\n{2,}$/,"\n");w+="~0";var y=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm;w=w.replace(y,function(B,D,C,A,z){var E=d.subParser("outdent")(z,p,s);if(D||(E.search(/\n{2,}/)>-1)){E=d.subParser("blockGamut")(E,p,s)}else{E=d.subParser("lists")(E,p,s);E=E.replace(/\n$/,"");E=d.subParser("spanGamut")(E,p,s)}var F=(A.search(/[*+-]/g)>-1)?"ul":"ol";return t+F+"<li>"+E+"</li>\n"});w=w.replace(/~0/g,"");s.gListLevel--;return w}function r(z,F){var H=/(<p[^>]+?>|<p>|<\/p>)/img,E=[[]],C="",D=0;E[0].type=F;for(var A=0;A<z.length;++A){var B=z[A].slice(2),w=z[A].slice(0,2);if(F!==w){D++;E[D]=[];E[D].type=w;F=w}E[D].push(B)}for(A=0;A<E.length;++A){C+="<"+E[A].type+">\n";for(var G=0;G<E[A].length;++G){if(E[A].length>1&&G===E[A].length-1&&!H.test(E[A][G-1])){}C+=E[A][G]}C+="</"+E[A].type+">\n"}return C}v+="~0";var q=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(s.gListLevel){v=v.replace(q,function(y,A,z){var C=(z.search(/[*+-]/g)>-1)?"ul":"ol",w=o(A);w=w.replace(/\s+$/,"");var B=w.split(t);B.shift();w=r(B,C);return w})}else{q=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;v=v.replace(q,function(z,B,A,y){var E=A.replace(/\n{2,}/g,"\n\n\n"),D=(y.search(/[*+-]/g)>-1)?"ul":"ol",w=o(E),C=w.split(t);C.shift();return B+r(C,D)+"\n"})}v=v.replace(/~0/,"");return v});d.subParser("outdent",function(o){o=o.replace(/^(\t|[ ]{1,4})/gm,"~0");o=o.replace(/~0/g,"");return o});d.subParser("paragraphs",function(v,y,p){v=v.replace(/^\n+/g,"");v=v.replace(/\n+$/g,"");var w=v.split(/\n{2,}/g),t=[],o=w.length;for(var q=0;q<o;q++){var s=w[q];if(s.search(/~K(\d+)K/g)>=0){t.push(s)}else{if(s.search(/\S/)>=0){s=d.subParser("spanGamut")(s,y,p);s=s.replace(/^([ \t]*)/g,"<p>");s+="</p>";t.push(s)}}}o=t.length;for(q=0;q<o;q++){while(t[q].search(/~K(\d+)K/)>=0){var r=p.gHtmlBlocks[RegExp.$1];r=r.replace(/\$/g,"$$$$");t[q]=t[q].replace(/~K\d+K/,r)}}return t.join("\n\n")});d.subParser("runExtension",function(q,s,o,r){if(q.filter){s=q.filter(s,r.converter,o)}else{if(q.regex){var p=q.regex;if(!p instanceof RegExp){p=new RegExp(p,"g")}s=s.replace(p,q.replace)}}return s});d.subParser("spanGamut",function(q,o,p){q=d.subParser("codeSpans")(q,o,p);q=d.subParser("escapeSpecialCharsWithinTagAttributes")(q,o,p);q=d.subParser("encodeBackslashEscapes")(q,o,p);q=d.subParser("images")(q,o,p);q=d.subParser("anchors")(q,o,p);q=d.subParser("autoLinks")(q,o,p);q=d.subParser("encodeAmpsAndAngles")(q,o,p);q=d.subParser("italicsAndBold")(q,o,p);q=d.subParser("underlineAndStrike")(q,o,p);q=q.replace(/\n/g," <br />\n");return q});d.subParser("stripBlankLines",function(o){return o.replace(/^[ \t]+$/mg,"")});d.subParser("stripLinkDefinitions",function(r,o,q){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;r+="~0";r=r.replace(p,function(t,A,v,w,s,y,z){A=A.toLowerCase();q.gUrls[A]=d.subParser("encodeAmpsAndAngles")(v);if(y){return y+z}else{if(z){q.gTitles[A]=z.replace(/"|'/g,"&quot;")}if(o.parseImgDimensions&&w&&s){q.gDimensions[A]={width:w,height:s}}}return""});r=r.replace(/~0/,"");return r});d.subParser("unescapeSpecialChars",function(o){o=o.replace(/~E(\d+)E/g,function(p,r){var q=parseInt(r);return String.fromCharCode(q)});return o});var l=this;if(typeof module!=="undefined"&&module.exports){module.exports=d}else{if(typeof define==="function"&&define.amd){define("showdown",function(){return d})}else{l.showdown=d}}}).call(this);(function(){var __responses=[];function findResponse(controlId,value){var returnValue;for(var i=0;i<__responses.length;i++){if(__responses[i].controlId==controlId){if(__responses[i].controlTypeId==3){returnValue=__responses[i].answerValue;break}if(__responses[i].controlTypeId==2){if(__responses[i].inputTypeId==0||__responses[i].inputTypeId==1){returnValue=__responses[i].optionId;break}if(__responses[i].inputTypeId==2){if(__responses[i].optionId==value){returnValue=__responses[i].optionId;break}}}}}return returnValue}function addResponse(responseData){function updateIfExists(response){var isExist=false;for(var i=0;i<__responses.length;i++){if(__responses[i].controlId==response.controlId){isExist=true;__responses[i]=response;break}}if(!isExist){__responses.push(response)}}function updateIfExists2(response){var isExist=false;for(var i=0;i<__responses.length;i++){if(__responses[i].controlId==response.controlId&&__responses[i].optionId==response.optionId){isExist=true;__responses[i]=response;break}}if(!isExist){__responses.push(response)}}function removeIfExists(response){function removeFromArray(array,from,to){var rest=array.slice((to||from)+1||array.length);array.length=from<0?array.length+from:from;return array.push.apply(array,rest)}for(var i=0;i<__responses.length;i++){if(__responses[i].controlId==response.controlId&&__responses[i].optionId==response.optionId){removeFromArray(__responses,i);break}}}if(responseData.controlTypeId==3){updateIfExists(responseData)}if(responseData.controlTypeId==2){if(responseData.inputTypeId==0||responseData.inputTypeId==1){updateIfExists(responseData)}if(responseData.inputTypeId==2){if(responseData.isSelected){updateIfExists2(responseData)}else{removeIfExists(responseData)}}}}var __pageRules=[];var __surveyRules=[];var global=this;(function(){var standardOperators={present:function(actual,target){return !!actual},blank:function(actual,target){return !actual},equalTo:function(actual,target){return""+actual===""+target},notEqualTo:function(actual,target){return""+actual!==""+target},greaterThan:function(actual,target){return parseFloat(actual,10)>parseFloat(target,10)},greaterThanEqual:function(actual,target){return parseFloat(actual,10)>=parseFloat(target,10)},lessThan:function(actual,target){return parseFloat(actual,10)<parseFloat(target,10)},lessThanEqual:function(actual,target){return parseFloat(actual,10)<=parseFloat(target,10)},includes:function(actual,target){return(""+actual).indexOf(""+target)>-1},matchesRegex:function(actual,target){var r=target.replace(/^\/|\/$/g,"");var regex=new RegExp(r);return regex.test(""+actual)}};var RuleEngine=global.RuleEngine=function RuleEngine(rule){rule=rule||{};this.operators={};this.actions=rule.actions||[];this.conditions=rule.conditions||{all:[]};this.addOperators(standardOperators)};RuleEngine.prototype={run:function(conditionsAdapter,actionsAdapter,cb){var out,error,_this=this;this.matches(conditionsAdapter,function(err,result){out=result;error=err;if(result&&!err){_this.runActions(actionsAdapter)}if(cb){cb(err,result)}});if(error){throw error}return out},matches:function(conditionsAdapter,cb){var out,err;handleNode(this.conditions,conditionsAdapter,this,function(e,result){if(e){err=e}out=result;if(cb){cb(e,result)}});if(err){throw err}if(!cb){return out}},operator:function(name){return this.operators[name]},addOperators:function(newOperators){var _this=this;for(var key in newOperators){if(newOperators.hasOwnProperty(key)){(function(){var op=newOperators[key];if(op.length==2){_this.operators[key]=function(actual,target,cb){try{var result=op(actual,target);cb(null,result)}catch(e){cb(e)}}}else{if(op.length==3){_this.operators[key]=op}else{throw"Operators should have an arity of 2 or 3; "+key+" has "+op.length}}})()}}},runActions:function(actionsAdapter){for(var i=0;i<this.actions.length;i++){var actionData=this.actions[i];var actionName=actionData.value;var actionFunction=actionsAdapter[actionName];if(actionFunction){actionFunction(new Finder(actionData))}}}};function Finder(data){this.data=data}Finder.prototype={find:function(){var currentNode=this.data;for(var i=0;i<arguments.length;i++){var name=arguments[i];currentNode=findByName(name,currentNode);if(!currentNode){return null}}return currentNode.value}};function findByName(name,node){var fields=node.fields||[];for(var i=0;i<fields.length;i++){var field=fields[i];if(field.name===name){return field}}return null}function handleNode(node,obj,engine,cb){if(node.all||node.any||node.none){handleConditionalNode(node,obj,engine,cb)}else{handleRuleNode(node,obj,engine,cb)}}function handleConditionalNode(node,obj,engine,cb){try{var isAll=!!node.all;var isAny=!!node.any;var isNone=!!node.none;var nodes=isAll?node.all:node.any;if(isNone){nodes=node.none}if(nodes.length==0){return cb(null,true)}var currentNode,i=0;var next=function(){try{currentNode=nodes[i];i++;if(currentNode){handleNode(currentNode,obj,engine,done)}else{var r=isNone?true:isAll;cb(null,r)}}catch(e){cb(e)}};var done=function(err,result){if(err){return cb(err)}if(isAll&&!result){return cb(null,false)}if(isAny&&!!result){return cb(null,true)}if(isNone&&!!result){return cb(null,false)}next()};next()}catch(e){cb(e)}}function handleRuleNode(node,obj,engine,cb){try{for(var i=0;i<obj.length;i++){var value=obj[i][node.name];if(value&&value.call){if(value.length===1){return value(function(result){compareValues(result,node.operator,node.value,engine,cb)})}else{value=value()}}compareValues(value,node.operator,node.value,engine,cb)}}catch(e){cb(e)}}function compareValues(actual,operator,value,engine,cb){try{var operatorFunction=engine.operator(operator);if(!operatorFunction){throw"Missing "+operator+" operator"}operatorFunction(actual,value,cb)}catch(e){cb(e)}}if(typeof module!=="undefined"){module.exports=RuleEngine;delete global.RuleEngine}})();var protocol=(("https:"==document.location.protocol)?"https://":"http://");function loadScript(url,callback){var script=document.createElement("script");script.type="text/javascript";if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback()}}}else{script.onload=function(){callback()}}script.src=url;document.getElementsByTagName("head")[0].appendChild(script)}loadScript("//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js",function(){var jq=jQuery.noConflict(true);__init(jq)});var __init=function(jq){(function($){var init=function(){(function($){$.fn.extend({survey:function(givenOptions){var el=$(this),options=$.extend({config:{},isBody:false},givenOptions);var servletUrl="";var sampleProvider=$.getUrlParam("sample-provider");var ref=(sampleProvider!=""?sampleProvider.toLowerCase():document.referrer);var targetUrl=location.href;var isSendClientInfo=false;var sessionId=null;var sessionKey=null;var responseType={startOpinion:1,finishOpinion:2,nextSheet:3,prevSheet:4,control:5,option:6,authorize:7};var survey={controls:{list:[],startIndex:0,startNumerator:1}};var defaultValidator=null;var validateGroup=[];var validateElements={elements:[]};var enableInspector=false;function initInspector(){if(enableInspector){if(parent.editor!=undefined){parent.editor.initInspector()}}}var messages={thanks:"Thank you for taking the survey!",completed:"You have already completed this survey. <br/>Thank you for your participation.",notFound:"Survey not found",closed:"Survey Closed",month:"Month",day:"Day",year:"Year",hours:"Hours",minutes:"Minutes",timeZone:"Time Zone",defaultNoneSelectedOption:"Please choose",other:"Other, (please specify)",defaultAdditionalDetails:"Additional details or comments",requiredQuestionErrorMessage:"This question is required.",days:new function(){var days=[];for(var i=0;i<=31;i++){var obj={value:i,caption:(i==0?"":i)};days.push(obj)}return days},months:[{value:0,caption:""},{value:1,caption:"Jan"},{value:2,caption:"Feb"},{value:3,caption:"Mar"},{value:4,caption:"Apr"},{value:5,caption:"May"},{value:6,caption:"Jun"},{value:7,caption:"Jul"},{value:8,caption:"Aug"},{value:9,caption:"Sep"},{value:10,caption:"Oct"},{value:11,caption:"Nov"},{value:12,caption:"Dec"}],hours:new function(){var hours=[];for(var i=0;i<=24;i++){var obj={value:(i>0?$.pad((i-1),2):i),caption:(i==0?"":$.pad((i-1),2))};hours.push(obj)}return hours},minutes:new function(){var minutes=[];for(var i=0;i<=60;i++){var obj={value:(i>0?$.pad((i-1),2):i),caption:(i==0?"":$.pad((i-1),2))};minutes.push(obj)}return minutes},timeZones:[{value:0,caption:""},{value:"-12.0",caption:"(GMT -12:00) Eniwetok, Kwajalein"},{value:"-11.0",caption:"(GMT -11:00) Midway Island, Samoa"},{value:"-10.0",caption:"(GMT -10:00) Hawaii"},{value:"-9.0",caption:"(GMT -9:00) Alaska"},{value:"-8.0",caption:"(GMT -8:00) Pacific Time (US & Canada)"},{value:"-7.0",caption:"(GMT -7:00) Mountain Time (US & Canada)"},{value:"-6.0",caption:"(GMT -6:00) Central Time (US & Canada), Mexico City"},{value:"-5.0",caption:"(GMT -5:00) Eastern Time (US & Canada), Bogota, Lima"},{value:"-4.0",caption:"(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz"},{value:"-3.5",caption:"(GMT -3:30) Newfoundland"},{value:"-3.0",caption:"(GMT -3:00) Brazil, Buenos Aires, Georgetown"},{value:"-2.0",caption:"(GMT -2:00) Mid-Atlantic"},{value:"-1.0",caption:"(GMT -1:00 hour) Azores, Cape Verde Islands"},{value:"0.0",caption:"(GMT) Western Europe Time, London, Lisbon, Casablanca"},{value:"1.0",caption:"(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris"},{value:"2.0",caption:"(GMT +2:00) Kaliningrad, South Africa"},{value:"3.0",caption:"(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg"},{value:"3.5",caption:"(GMT +3:30) Tehran"},{value:"4.0",caption:"(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi"},{value:"4.5",caption:"(GMT +4:30) Kabul"},{value:"5.0",caption:"(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent"},{value:"5.5",caption:"(GMT +5:30) Bombay, Calcutta, Madras, New Delhi"},{value:"5.75",caption:"(GMT +5:45) Kathmandu"},{value:"6.0",caption:"(GMT +6:00) Almaty, Dhaka, Colombo"},{value:"7.0",caption:"(GMT +7:00) Bangkok, Hanoi, Jakarta"},{value:"8.0",caption:"(GMT +8:00) Beijing, Perth, Singapore, Hong Kong"},{value:"9.0",caption:"(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk"},{value:"9.5",caption:"(GMT +9:30) Adelaide, Darwin"},{value:"10.0",caption:"(GMT +10:00) Eastern Australia, Guam, Vladivostok"},{value:"11.0",caption:"(GMT +11:00) Magadan, Solomon Islands, New Caledonia"},{value:"12.0",caption:"(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka"}]};var getDetails=function(params){var obj={opinions:{getDetails:{guidTypeId:params.guidTypeId,guid:params.guid,modeId:params.modeId,themeId:params.themeId,ref:params.ref,target:params.target,respondent:params.respondent,urlParams:params.urlParams}}};$.ajax({type:"POST",url:servletUrl,dataType:"json",xhrFields:{withCredentials:true},data:{rq:JSON.stringify(obj),timestamp:$.getTimestamp()},success:function(data){if(data.opinions.getDetails!=undefined){if(data.opinions.getDetails.error!=undefined){if(params.error!=undefined&&typeof params.error=="function"){params.error(data.opinions.getDetails)}}else{if(params.success!=undefined&&typeof params.success=="function"){params.success(data.opinions.getDetails)}}}},error:function(XHR,textStatus,errorThrow){}})};var createResponse=function(params){var obj={};if(isSendClientInfo){obj={opinions:{createResponse:{guidTypeId:params.guidTypeId,guid:params.guid,modeId:params.modeId,responseTypeId:params.responseTypeId,responseData:params.responseData,password:params.password,os:{name:$.client.os.name,platform:$.client.os.platform,language:$.client.os.systemLanguage,timeZone:$.client.os.timeZone},screen:{width:$.client.screen.width,height:$.client.screen.height,color:$.client.screen.color},browser:{name:$.client.browser.name,appName:$.client.browser.appName,version:$.client.browser.version,isCookieEnabled:$.client.browser.cookieEnabled,isJavaInstalled:$.client.browser.java.isInstalled,isFlashInstalled:$.client.browser.flash.isInstalled,flashVersion:$.client.browser.flash.version},ref:params.ref,target:params.target,respondent:params.respondent}}}}else{obj={opinions:{createResponse:{guidTypeId:params.guidTypeId,guid:params.guid,modeId:params.modeId,responseTypeId:params.responseTypeId,responseData:params.responseData,password:params.password,ref:params.ref,target:params.target,respondent:params.respondent}}}}$.ajax({type:"POST",url:servletUrl,dataType:"json",xhrFields:{withCredentials:true},data:{rq:JSON.stringify(obj),timestamp:$.getTimestamp(),sk:sessionKey,sid:sessionId},success:function(data){if(data.opinions.createResponse!=undefined){if(data.opinions.createResponse.error!=undefined){if(params.error!=undefined&&typeof params.error=="function"){params.error(data.opinions.createResponse)}}else{if(params.success!=undefined&&typeof params.success=="function"){params.success(data.opinions.createResponse)}}}},error:function(XHR,textStatus,errorThrow){}});if(isSendClientInfo){isSendClientInfo=false}};var getControls=function(params){var get=function(){var obj={opinions:{getControls:{guidTypeId:params.guidTypeId,guid:params.guid,modeId:params.modeId,lastSelected:params.lastSelected,sheetId:params.sheetId,ref:params.ref,target:params.target,respondent:params.respondent}}};$.ajax({type:"POST",url:servletUrl,dataType:"json",xhrFields:{withCredentials:true},data:{rq:JSON.stringify(obj),timestamp:$.getTimestamp(),sk:sessionKey,sid:sessionId},success:function(data){if(data.opinions.getControls!=undefined){if(data.opinions.getControls.error!=undefined){if(params.error!=undefined&&typeof params.error=="function"){params.error(data.opinions.getControls)}}else{if(params.success!=undefined&&typeof params.success=="function"){params.success(data.opinions.getControls)}}}},error:function(XHR,textStatus,errorThrow){}})};if(params.index>0){var obj2={opinions:{getStartIndexOfSheet:{guidTypeId:params.guidTypeId,guid:params.guid,modeId:params.modeId,sheetId:params.sheetId,ref:params.ref,target:params.target,respondent:params.respondent}}};$.ajax({type:"POST",url:servletUrl,dataType:"json",xhrFields:{withCredentials:true},data:{rq:JSON.stringify(obj2),timestamp:$.getTimestamp(),sk:sessionKey,sid:sessionId},success:function(data){if(data.opinions.getStartIndexOfSheet.error!=undefined){}else{if(data.opinions.getStartIndexOfSheet!=undefined){survey.controls.startIndex=data.opinions.getStartIndexOfSheet.startIndex;survey.controls.startNumerator=data.opinions.getStartIndexOfSheet.startNumerator;get()}}},error:function(XHR,textStatus,errorThrow){}})}else{survey.controls.startIndex=1;survey.controls.startNumerator=1;get()}};$.fn.control=function(){if(arguments.length==0){return[]}var I=arguments[0]||{};var v=$(this);var s=null;var J=function(D,control){var EH=$('<div><div class="container-control-hidden"></div></div>');var EO=$('<div><div class="theme-question-heading ui-question-heading-a" data-theme="a" data-form="ui-question-heading-a"><span class="header-control-content"></span></div><div class="theme-question-content ui-question-content-a" data-theme="a" data-form="ui-question-content-a"><div class="label-control-note" style="display: none;"></div></div></div>');var E=$('<div><div><span class="label-status"></span></div><div class="theme-question-heading ui-question-heading-a" data-theme="a" data-form="ui-question-heading-a"><span class="label-control-number"></span><span class="label-control-mandatory asterisk" style="display: none;">*&nbsp;</span><span class="header-control-content"></span></div><div class="theme-question-content ui-question-content-a" data-theme="a" data-form="ui-question-content-a"><div class="container-embed-code q-image" style="display: none"></div><div class="label-control-note q-help" style="display: none;"></div><ul class="container-control-includes"></ul><div class="container-control-other"></div><div class="container-control-comment q-comment-container" style="display: none"><div class="q-comment"><label class="label-control-comment"></label></div><textarea class="textarea-field textarea-control-comment" autocomplete="off" ></textarea></div></div></div>');switch(D){case 2:var c=E;var link=null;var g=c.find(".container-control-includes");var otherContainer=c.find(".container-control-other");var F=I.controlId;var G=function(){I.updateControlIndex(1);var u=control;c.find(".header-control-content").html(u.content.replace(/\n/g,"<br/>"));if(u.isMandatory){if(I.data.highlightRequiredQuestions){c.find(".label-control-mandatory").show()}I.validateElements({group:String(F),status:c.find(".label-status"),rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}]})}if(u.link){link=u.link}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}if(u.comment!=undefined){var e=c.find(".container-control-comment");e.show();var j=e.find(".label-control-comment").html(converter.makeHtml(u.comment));if(I.data.guidTypeId==1&&I.data.modeId==1){var f=e.find(".textarea-control-comment");if(u.answerComment!=undefined){f.val(u.answerComment)}f.focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,comment:$.removeHTMLTags($(this).val()),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}switch(u.inputTypeId){case 0:if(u.options.list.length!=0){var P=null;var j=0;var _lastSelected=null;for(var i=0;i<u.options.list.length;i++){if(u.options.list[i].optionKindId==0){var k=$('<li class="choice"><label><div class="choice-image" style="overflow: hidden;"></div><div class="choice-text"><span><input type="radio" class="radio-'+u.options.list[i].optionId+'" id="'+u.options.list[i].optionId+'" name="'+F+'" optionindex="'+i+'" optiontext="'+u.options.list[i].text+'" optionkindid="'+u.options.list[i].optionKindId+'" value="'+u.options.list[i].value+'" /></span><strong>'+u.options.list[i].text+"</strong></div></label></li>");if(u.options.list[i].selectTypeId!=undefined){if(u.options.list[i].selectTypeId!=0){k.find("input:radio").prop("checked",true)}}k.appendTo(g);if(u.options.list[i].link!=undefined){var img=$('<img src="'+u.options.list[i].link+'" />');k.find(".choice-image").empty().append(img)}j++}if(u.options.list[i].optionKindId==1){P=u.options.list[i]}}var f=g.find("input:radio");f.change(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt($(this).attr("id")),optionKindId:parseInt($(this).attr("optionkindid")),optionIndex:parseInt($(this).attr("optionindex")),answerText:$(this).attr("optiontext"),answerValue:$(this).val()};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}});if(P!=null){var l=$('<div class="choice-other"><label><span><input type="radio" class="radio-other" name="'+F+'" optionid="'+P.optionId+'" optionkindid="'+P.optionKindId+'" optiontext="'+((P.text!=""&&P.text!=null)?P.text:messages.other)+'" /></span><strong>'+((P.text!=""&&P.text!=null)?P.text:messages.other)+'</strong></label><div class="container-other"><input type="text" class="text-field input-control-other" /></div></div>');l.appendTo(otherContainer);var m=l.find(".radio-other");var n=l.find(".input-control-other");m.unbind("change").change(function(){if(_lastSelected!=null&&_lastSelected!=$(this)){_lastSelected.closest("li").find(".container-additional-details-or-comments").hide()}_lastSelected=$(this);if($(this).is(":checked")){n.focus()}});if(P.selectTypeId!=undefined){if(P.selectTypeId!=0){m.prop("checked",true);n.val(P.answerValue)}}n.focusin(function(){if(!m.is(":checked")){m.prop("checked",true);m.change()}}).focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(m.attr("optionid")),optionKindId:parseInt(m.attr("optionkindid")),optionIndex:j,answerText:m.attr("optiontext"),answerValue:$.removeHTMLTags($(this).val())};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}})}}break;case 1:if(u.options.list.length!=0){var o=$('<div><select class="dropdown-'+F+'" name="'+F+'"></select></div>');var p=o.find(".dropdown-"+F);var q=p[0].options;var L=null;var P=null;var R=null;var Y=[];var j=0;for(var i=0;i<u.options.list.length;i++){if(u.options.list[i].optionKindId==2){R=u.options.list[i]}if(u.options.list[i].optionKindId==0){Y.push(u.options.list[i]);j++}if(u.options.list[i].optionKindId==1){P=u.options.list[i]}}o.appendTo(otherContainer);p.change(function(){var a=$(this).find("option:selected");var b={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:1,isSelected:(parseInt(a.attr("optionindex"))!=0),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(a.attr("optionid")),optionKindId:parseInt(a.attr("optionkindid")),optionIndex:parseInt(a.attr("optionindex")),answerText:a.text(),answerValue:a.attr("value")};addResponse(b);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:b,ref:ref,target:targetUrl,respondent:I.config.respondent})}});if(R!=null){var t=new Option((R.text!=null?R.text:messages.defaultNoneSelectedOption),0);t.setAttribute("optionid",R.optionId);t.setAttribute("optionindex",0);t.setAttribute("optionkindid",2);try{q.add(t)}catch(ex){q.add(t,null)}}if(Y.length!=0){for(var z=0;z<Y.length;z++){var k=new Option(Y[z].text,Y[z].value);k.setAttribute("optionid",Y[z].optionId);k.setAttribute("optionindex",(z+1));k.setAttribute("optionkindid",Y[z].optionKindId);if(I.data.guidTypeId==1&&I.data.modeId==1){if(Y[z].selectTypeId!=undefined){if(Y[z].selectTypeId!=0){L=(z+1)}}}try{q.add(k)}catch(ex){q.add(k,null)}}}if(L!=null){p[0].selectedIndex=L}}break;case 2:if(u.options.list.length!=0){var P=null;var j=0;for(var i=0;i<u.options.list.length;i++){if(u.options.list[i].optionKindId==0){var k=$('<li class="choice"><label><div class="choice-image" style="overflow: hidden;"></div><div class="choice-text"><span><input type="checkbox" class="checkbox-'+u.options.list[i].optionId+'" id="'+u.options.list[i].optionId+'" name="'+F+'" optionindex="'+i+'" optiontext="'+u.options.list[i].text+'" value="'+u.options.list[i].value+'" /></span><strong>'+u.options.list[i].text+"</strong></div></label></li>");if((u.options.list[i].isEnableAdditionalDetails!=null?(u.options.list[i].isEnableAdditionalDetails?true:false):false)){var y=$("<div "+(u.options.list[i].selectTypeId==undefined?'style="display: none;"':(u.options.list[i].selectTypeId!=0?"":'style="display: none"'))+' class="container-additional-details-or-comments container-additional-details-or-comments-'+u.options.list[i].optionId+'"><div class="q-label">'+(u.options.list[i].additionalDetailsTitle!=null?u.options.list[i].additionalDetailsTitle:messages.defaultAdditionalDetails)+'</div><div><input type="text" class="text-field input-additional-details-or-comments" '+(u.options.list[i].answerComment!=undefined?'value="'+u.options.list[i].answerComment+'"':"")+' optionid="'+u.options.list[i].optionId+'" optionindex="'+i+'" optiontext="'+u.options.list[i].text+'" optionvalue="'+u.options.list[i].value+'"  /></div></div>');k.append(y);k.find(".checkbox-"+u.options.list[i].optionId).unbind("change").change(function(){var w=$(this);var b=$(".container-additional-details-or-comments-"+w.attr("id"));var d=b.find(".input-additional-details-or-comments");if(w.is(":checked")){b.show();d.focus();if(I.data.guidTypeId==1&&I.data.modeId==1){d.unbind("focusout").focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:true,comment:$.removeHTMLTags(d.val()),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(w.attr("id")),optionIndex:parseInt(w.attr("optionindex")),answerText:w.attr("optiontext"),answerValue:w.val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}else{b.hide();if(I.data.guidTypeId==1&&I.data.modeId==1){var c={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:false,comment:$.removeHTMLTags(d.val()),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(w.attr("id")),optionIndex:parseInt(w.attr("optionindex")),answerText:w.attr("optiontext"),answerValue:w.val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:c,ref:ref,target:targetUrl,respondent:I.config.respondent})}}}).addClass("checkbox-additional-details-or-comments");if(u.options.list[i].selectTypeId!=undefined){if(u.options.list[i].selectTypeId!=0){y.find(".input-additional-details-or-comments").unbind("focusout").focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:true,comment:$.removeHTMLTags($(this).val()),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt($(this).attr("optionid")),optionIndex:parseInt($(this).attr("optionindex")),answerText:$(this).attr("optiontext"),answerValue:$(this).attr("optionvalue")};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}}if(u.options.list[i].selectTypeId!=undefined){if(u.options.list[i].selectTypeId!=0){k.find("input:checkbox").prop("checked",true)}}k.appendTo(g);if(u.options.list[i].link!=undefined){var img=$('<img src="'+u.options.list[i].link+'" />');k.find(".choice-image").empty().append(img)}j++}if(u.options.list[i].optionKindId==1){P=u.options.list[i]}}var f=g.find("input:checkbox");f.change(function(){if(!$(this).hasClass("checkbox-additional-details-or-comments")){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:$(this).is(":checked"),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt($(this).attr("id")),optionIndex:parseInt($(this).attr("optionindex")),answerText:$(this).attr("optiontext"),answerValue:$(this).val()};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}}});if(P!=null){var l=$('<div class="choice-other"><label><span><input type="checkbox" class="checkbox-other" optionid="'+P.optionId+'" name="'+F+'" optionkindid="'+P.optionKindId+'" optiontext="'+((P.text!=""&&P.text!=null)?P.text:messages.other)+'" /></span><strong>'+((P.text!=""&&P.text!=null)?P.text:messages.other)+'</strong></label><div class="container-other"><input type="text" class="text-field input-control-other" /></div></div>');l.appendTo(otherContainer);var z=l.find(".checkbox-other");var n=l.find(".input-control-other");if(I.data.guidTypeId==1&&I.data.modeId==1){if(P.selectTypeId!=undefined){if(P.selectTypeId!=0){z.prop("checked",true);n.val(P.answerValue)}}}z.unbind("change").change(function(){if($(this).is(":checked")){n.focus()}else{var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:false,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(z.attr("optionid")),optionKindId:parseInt(z.attr("optionkindid")),optionIndex:j,answerText:z.attr("optiontext"),answerValue:$.removeHTMLTags(n.val())};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}}});n.focusin(function(){if(!z.is(":checked")){z.prop("checked",true);z.change()}}).focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,selectTypeId:2,isSelected:true,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt(z.attr("optionid")),optionKindId:parseInt(z.attr("optionkindid")),optionIndex:j,answerText:z.attr("optiontext"),answerValue:$.removeHTMLTags($(this).val())};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}})}}break}c.appendTo(v);if(link){if(u.linkTypeId==1){c.find(".container-embed-code").html("<img src="+u.link+" />").show()}if(u.linkTypeId==2){c.find(".container-embed-code").html(u.link).show()}}};G();break;case 3:var c=E;var link=null;var g=c.find(".container-control-includes");var otherContainer=c.find(".container-control-other");var F=I.controlId;var G=function(){I.updateControlIndex(1);var u=control;c.find(".header-control-content").html(u.content.replace(/\n/g,"<br/>"));if(u.isMandatory){if(I.data.highlightRequiredQuestions){c.find(".label-control-mandatory").show()}I.validateElements({name:String(F),status:c.find(".label-status"),rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}]})}if(u.link){link=u.link}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}switch(u.inputTypeId){case 0:otherContainer.append('<div class="group"><input type="text" name="'+F+'" class="input-single-line-field text-field" /></div>');var f=otherContainer.find(".input-single-line-field");if(u.answerValue!=undefined){f.val(u.answerValue)}f.focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:$.trim($.removeHTMLTags($(this).val()))};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}});break;case 1:otherContainer.append('<div class="group"><textarea name="'+F+'" class="textarea-multi-line-field textarea-field"></textarea></div>');var f=otherContainer.find(".textarea-multi-line-field");if(u.answerValue!=undefined){f.val(u.answerValue)}f.focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:$.trim($.removeHTMLTags($(this).val()))};addResponse(a);if(I.data.guidTypeId==1&&I.data.modeId==1){createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})}});break;case 2:otherContainer.append('<div class="group"><input type="password" name="'+F+'" class="input-password-field text-field" /></div>');if(I.data.guidTypeId==1&&I.data.modeId==1){var f=otherContainer.find(".input-password-field");if(u.answerValue!=undefined){f.val(u.answerValue)}f.focusout(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:$.removeHTMLTags($(this).val())};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break}c.appendTo(v);if(link){if(u.linkTypeId==1){c.find(".container-embed-code").html("<img src="+u.link+" />").show()}if(u.linkTypeId==2){c.find(".container-embed-code").html(u.link).show()}}};G();break;case 4:var c=E;var link=null;var g=c.find(".container-control-includes");var otherContainer=c.find(".container-control-other");var F=I.controlId;var errorLabel=null;var G=function(){var u=control;c.find(".header-control-content").html(u.content.replace(/\n/g,"<br/>"));if(u.isMandatory){if(I.data.highlightRequiredQuestions){c.find(".label-control-mandatory").show()}errorLabel=$('<label class="status">'+(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)+"</label>").hide();c.find(".label-status").append(errorLabel)}if(u.link){link=u.link}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}if(u.subControls.list.length!=0){var a=$('<table cellpadding="0" cellspacing="1" border="0" class="table-matrix"></table>');var b=$('<tr class="table-matrix-header"></tr>');var d=$("<td>&nbsp;</td>");b.append(d);for(var y=0;y<u.options.list.length;y++){var e=$("<th>"+u.options.list[y].text+"</th>");b.append(e)}a.append(b);for(var i=0;i<u.subControls.list.length;i++){var f=$("<tr "+(i%2?'class="active"':"")+"></tr>");var h=$("<th>"+u.subControls.list[i].content+"</th>");f.append(h);var _lastSubControl=null;for(var y=0;y<u.options.list.length;y++){var j=null;var actualOption=u.options.list[y];var actualSubControl=u.subControls.list[i];if(u.inputTypeId==0){j=$('<td><lable><input type="radio" controlindex="'+I.getControlIndex()+'"  name="'+(u.controlId+"_"+actualSubControl.controlId)+'" subcontrolid="'+actualSubControl.controlId+'" subcontrolparenttypeid="'+actualSubControl.parentTypeId+'" subcontrolparentid="'+actualSubControl.parentId+'" subcontrolcontent="'+actualSubControl.content+'" id="'+actualOption.optionId+'" optiontext="'+actualOption.text+'" optionindex="'+y+'" value="'+actualOption.value+'" /></label></td>');if(_lastSubControl!=actualSubControl){if(u.isMandatory){I.validateGroup({controlId:u.controlId,group:u.controlId+"_"+actualSubControl.controlId});I.validateElements({group:(u.controlId+"_"+actualSubControl.controlId),showError:false,rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}],success:function(){var isApprove=true;var _validateGroup=I.getValidateGroup();for(var y=0;y<_validateGroup.length;y++){if(_validateGroup[y].controlId==u.controlId){if($("input[name="+_validateGroup[y].group+"]").filter(":checked").length==0){isApprove=false;break}}}if(isApprove){errorLabel.hide()}},error:function(){errorLabel.show()}})}}_lastSubControl=actualSubControl;if(actualOption.answerSelectedControlsIds!=undefined){for(var selectedControlIdIndex in actualOption.answerSelectedControlsIds){if(parseInt(actualOption.answerSelectedControlsIds[selectedControlIdIndex])==parseInt(actualSubControl.controlId)){j.find("input:radio").prop("checked",true)}}}if(I.data.guidTypeId==1&&I.data.modeId==1){var r=j.find("input:radio");r.change(function(){var a={controlId:parseInt($(this).attr("subcontrolid")),controlParentTypeId:parseInt($(this).attr("subcontrolparenttypeid")),controlParentId:parseInt($(this).attr("subcontrolparentid")),controlTypeId:9,inputTypeId:u.inputTypeId,controlIndex:parseInt($(this).attr("controlindex")),controlContent:$(this).attr("subcontrolcontent"),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt($(this).attr("id")),optionIndex:parseInt($(this).attr("optionindex")),answerText:$(this).attr("optiontext"),answerValue:$(this).val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}else{if(u.inputTypeId==1){j=$('<td><lable><input type="checkbox" controlindex="'+I.getControlIndex()+'" name="'+(u.controlId+"_"+actualSubControl.controlId)+'"  subcontrolid="'+actualSubControl.controlId+'" subcontrolparenttypeid="'+actualSubControl.parentTypeId+'" subcontrolparentid="'+actualSubControl.parentId+'" subcontrolcontent="'+actualSubControl.content+'" id="'+actualOption.optionId+'" optiontext="'+actualOption.text+'" optionindex="'+y+'" value="'+actualOption.value+'" /></label></td>');if(_lastSubControl!=actualSubControl){if(u.isMandatory){I.validateGroup({controlId:u.controlId,group:u.controlId+"_"+actualSubControl.controlId});I.validateElements({group:(u.controlId+"_"+actualSubControl.controlId),showError:false,rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}],success:function(){var isApprove=true;var _validateGroup=I.getValidateGroup();for(var y=0;y<_validateGroup.length;y++){if(_validateGroup[y].controlId==u.controlId){if($("input[name="+_validateGroup[y].group+"]").filter(":checked").length==0){isApprove=false;break}}}if(isApprove){errorLabel.hide()}},error:function(){errorLabel.show()}})}}_lastSubControl=actualSubControl;if(actualOption.answerSelectedControlsIds!=undefined){for(var selectedControlIdIndex in actualOption.answerSelectedControlsIds){if(parseInt(actualOption.answerSelectedControlsIds[selectedControlIdIndex])==parseInt(actualSubControl.controlId)){j.find("input:checkbox").prop("checked",true)}}}if(I.data.guidTypeId==1&&I.data.modeId==1){var r=j.find("input:checkbox");r.change(function(){var a={controlId:parseInt($(this).attr("subcontrolid")),controlParentTypeId:parseInt($(this).attr("subcontrolparenttypeid")),controlParentId:parseInt($(this).attr("subcontrolparentid")),controlTypeId:9,inputTypeId:u.inputTypeId,controlIndex:parseInt($(this).attr("controlindex")),controlContent:$(this).attr("subcontrolcontent"),selectTypeId:2,isSelected:$(this).is(":checked"),sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,optionId:parseInt($(this).attr("id")),optionIndex:parseInt($(this).attr("optionindex")),answerText:$(this).attr("optiontext"),answerValue:$(this).val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.option,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}}f.append(j)}a.append(f);I.updateControlIndex(1)}otherContainer.append(a)}c.appendTo(v);if(link){if(u.linkTypeId==1){c.find(".container-embed-code").html("<img src="+u.link+" />").show()}if(u.linkTypeId==2){c.find(".container-embed-code").html(u.link).show()}}};G();break;case 6:var c=E;var link=null;var g=c.find(".container-control-includes");var otherContainer=c.find(".container-control-other");var F=I.controlId;var G=function(){I.updateControlIndex(1);var u=control;c.find(".header-control-content").html(u.content.replace(/\n/g,"<br/>"));if(u.isMandatory){if(I.data.highlightRequiredQuestions){c.find(".label-control-mandatory").show()}I.validateElements({group:String(F),status:c.find(".label-status"),rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}]})}if(u.link){link=u.link}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}switch(u.inputTypeId){case 0:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li></ul></li>').appendTo(g);var M=a.find(".months-list");M.loadSelect(messages.months);var Z=a.find(".days-list");Z.loadSelect(messages.days);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 1:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li><li><div class="q-label"><label>'+(u.yearTitle!=null?u.yearTitle:messages.year)+'</label></div><div><input name="'+F+'" type="text" maxlength="4" size="4" class="year-field text-field" /></div></li></ul></li>').appendTo(g);var M=a.find(".months-list");M.loadSelect(messages.months);var Z=a.find(".days-list");Z.loadSelect(messages.days);var Y=a.find(".year-field");if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}Y.val(u.answerValue.year)}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val()},answerValue:{month:M.val(),day:Z.val(),year:Y.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})});Y.focusout(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val()},answerValue:{month:M.val(),day:Z.val(),year:Y.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 2:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li><li><div class="q-label"><label>'+(u.yearTitle!=null?u.yearTitle:messages.year)+'</label></div><div><input name="'+F+'" type="text" maxlength="4" size="4" class="year-field text-field" /></div></li></ul><ul class="list-time"><li><div class="q-label"><label>'+(u.hoursTitle!=null?u.hoursTitle:messages.hours)+'</label></div><div><select name="'+F+'" class="hours-list" /></div></li><li><div class="q-label">&nbsp;</div><div>:</div></li><li><div class="q-label"><label>'+(u.minutesTitle!=null?u.minutesTitle:messages.minutes)+'</label></div><div><select name="'+F+'" class="minutes-list" /></div></li></ul></li>').appendTo(g);var M=a.find(".months-list");M.loadSelect(messages.months);var Z=a.find(".days-list");Z.loadSelect(messages.days);var Y=a.find(".year-field");var H=a.find(".hours-list");H.loadSelect(messages.hours);var N=a.find(".minutes-list");N.loadSelect(messages.minutes);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}Y.val(u.answerValue.year);for(var p=0;p<H[0].options.length;p++){if(H[0].options[p].value==u.answerValue.hours){H[0].selectedIndex=p;break}}for(var p=0;p<N[0].options.length;p++){if(N[0].options[p].value==u.answerValue.minutes){N[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val(),hours:H[0].options[H[0].selectedIndex].text,minutes:N[0].options[N[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val(),year:Y.val(),hours:H.val(),minutes:N.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})});Y.focusout(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val(),hours:H[0].options[H[0].selectedIndex].text,minutes:N[0].options[N[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val(),year:Y.val(),hours:H.val(),minutes:N.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 3:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li></ul></li>').appendTo(g);var Z=a.find(".days-list");Z.loadSelect(messages.days);var M=a.find(".months-list");M.loadSelect(messages.months);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 4:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li><li><div class="q-label"><label>'+(u.yearTitle!=null?u.yearTitle:messages.year)+'</label></div><div><input name="'+F+'" type="text" maxlength="4" size="4" class="year-field text-field" /></div></li></ul></li>').appendTo(g);var Z=a.find(".days-list");Z.loadSelect(messages.days);var M=a.find(".months-list");M.loadSelect(messages.months);var Y=a.find(".year-field");if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}Y.val(u.answerValue.year)}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val()},answerValue:{month:M.val(),day:Z.val(),year:Y.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})});Y.focusout(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val()},answerValue:{month:M.val(),day:Z.val(),year:Y.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 5:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li><li><div class="q-label"><label>'+(u.yearTitle!=null?u.yearTitle:messages.year)+'</label></div><div><input name="'+F+'" type="text" maxlength="4" size="4" class="year-field text-field" /></div></li></ul><ul class="list-time"><li><div class="q-label"><label>'+(u.hoursTitle!=null?u.hoursTitle:messages.hours)+'</label></div><div><select name="'+F+'" class="hours-list" /></div></li><li><div class="q-label">&nbsp;</div><div>:</div></li><li><div class="q-label"><label>'+(u.minutesTitle!=null?u.minutesTitle:messages.minutes)+'</label></div><div><select name="'+F+'" class="minutes-list" /></div></li></ul></li>').appendTo(g);var Z=a.find(".days-list");Z.loadSelect(messages.days);var M=a.find(".months-list");M.loadSelect(messages.months);var Y=a.find(".year-field");var H=a.find(".hours-list");H.loadSelect(messages.hours);var N=a.find(".minutes-list");N.loadSelect(messages.minutes);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}Y.val(u.answerValue.year);for(var p=0;p<H[0].options.length;p++){if(H[0].options[p].value==u.answerValue.hours){H[0].selectedIndex=p;break}}for(var p=0;p<N[0].options.length;p++){if(N[0].options[p].value==u.answerValue.minutes){N[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val(),hours:H[0].options[H[0].selectedIndex].text,minutes:N[0].options[N[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val(),year:Y.val(),hours:H.val(),minutes:N.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})});Y.focusout(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:M[0].options[M[0].selectedIndex].text,day:Z[0].options[Z[0].selectedIndex].text,year:Y.val(),hours:H[0].options[H[0].selectedIndex].text,minutes:N[0].options[N[0].selectedIndex].text},answerValue:{month:M.val(),day:Z.val(),year:Y.val(),hours:H.val(),minutes:N.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 6:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.monthTitle!=null?u.monthTitle:messages.month)+'</label></div><div><select name="'+F+'" class="months-list" /></div></li></ul></li>').appendTo(g);var M=a.find(".months-list");M.loadSelect(messages.months);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<M[0].options.length;p++){if(M[0].options[p].value==u.answerValue.month){M[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{month:$(this)[0].options[$(this)[0].selectedIndex].text},answerValue:{month:$(this).val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 7:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.dayTitle!=null?u.dayTitle:messages.day)+'</label></div><div><select name="'+F+'" class="days-list" /></div></li></ul></li>').appendTo(g);var Z=a.find(".days-list");Z.loadSelect(messages.days);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<Z[0].options.length;p++){if(Z[0].options[p].value==u.answerValue.day){Z[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{day:$(this)[0].options[$(this)[0].selectedIndex].text},answerValue:{day:$(this).val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 8:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.yearTitle!=null?u.yearTitle:messages.year)+'</label></div><div><input name="'+F+'" type="text" maxlength="4" size="4" class="year-field text-field" /></div></li></ul></li>').appendTo(g);var Y=a.find(".year-field");if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){Y.val(u.answerValue.year)}Y.focusout(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:{year:$(this).val()},answerValue:{year:$(this).val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 9:var a=$('<li><ul class="list-time"><li><div class="q-label"><label>'+(u.hoursTitle!=null?u.hoursTitle:messages.hours)+'</label></div><div><select name="'+F+'" class="hours-list" /></div></li><li><div class="q-label">&nbsp;</div><div>:</div></li><li><div class="q-label"><label>'+(u.minutesTitle!=null?u.minutesTitle:messages.minutes)+'</label></div><div><select name="'+F+'" class="minutes-list" /></div></li></ul></li>').appendTo(g);var H=a.find(".hours-list");H.loadSelect(messages.hours);var N=a.find(".minutes-list");N.loadSelect(messages.minutes);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<H[0].options.length;p++){if(H[0].options[p].value==u.answerValue.hours){H[0].selectedIndex=p;break}}for(var p=0;p<N[0].options.length;p++){if(N[0].options[p].value==u.answerValue.minutes){N[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{hours:H[0].options[H[0].selectedIndex].text,minutes:N[0].options[N[0].selectedIndex].text},answerValue:{hours:H.val(),minutes:N.val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break;case 10:var a=$('<li><ul class="list-date"><li><div class="q-label"><label>'+(u.timeZoneTitle!=null?u.timeZoneTitle:messages.timeZone)+'</label></div><div><select name="'+F+'" class="timezones-list" /></div></li></ul></li>').appendTo(g);var T=a.find(".timezones-list");T.loadSelect(messages.timeZones);if(I.data.guidTypeId==1&&I.data.modeId==1){if(u.answerValue!=undefined){for(var p=0;p<T[0].options.length;p++){if(T[0].options[p].value==u.answerValue.timeZone){T[0].selectedIndex=p;break}}}var f=a.find("select");f.change(function(){var m={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerText:{timeZone:$(this)[0].options[$(this)[0].selectedIndex].text},answerValue:{timeZone:$(this).val()}};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:m,ref:ref,target:targetUrl,respondent:I.config.respondent})})}break}c.appendTo(v);if(link){if(u.linkTypeId==1){c.find(".container-embed-code").html("<img src="+u.link+" />").show()}if(u.linkTypeId==2){c.find(".container-embed-code").html(u.link).show()}}};G();break;case 10:var c=E;var link=null;var g=c.find(".container-control-includes");var otherContainer=c.find(".container-control-other");var F=I.controlId;var H=[5,7,9,0,3,4,5,6,7,8,9,10];var G=function(){I.updateControlIndex(1);var u=control;c.find(".header-control-content").html(u.content.replace(/\n/g,"<br/>"));if(u.isMandatory){if(I.data.highlightRequiredQuestions){c.find(".label-control-mandatory").show()}I.validateElements({group:String(F),status:c.find(".label-status"),rules:[{method:"required",message:(I.data.messages.requiredQuestionErrorMessage!=null?I.data.messages.requiredQuestionErrorMessage:messages.requiredQuestionErrorMessage)}]})}if(u.link){link=u.link}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}var a=$('<table cellpadding="0" cellspacing="1" border="0" class="table-scale"></table>');var b=$('<tr class="table-scale-header"></tr>');var d=$('<tr class="table-scale-row"></tr>');var e=$("<td>&nbsp;</td>");var f=$("<td>&nbsp;</td>");if(u.fromScale!=null&&u.toScale!=null){if(u.fromTitle!=""&&u.fromTitle!=null){b.append(e);var h=$("<th>"+u.fromTitle+"</th>");d.append(h)}for(var y=u.fromScale;y<(H[u.toScale]+1);y++){var i=$("<th>"+y+"</th>");b.append(i);var j=$('<td><label><input type="radio" name="'+F+'" optionid="'+y+'" optiontext="'+y+'" value="'+y+'" /></label></td>');d.append(j);if(I.data.guidTypeId==1&&I.data.modeId==1){var s=j.find("input:radio");if(s.val()==u.answerValue){s.prop("checked",true)}s.change(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:$(this).val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})})}}if(u.toTitle!=""&&u.toTitle!=null){b.append(f);var k=$("<th>"+u.toTitle+"</th>");d.append(k)}a.append(b);a.append(d);otherContainer.append(a)}c.appendTo(v);if(link){if(u.linkTypeId==1){c.find(".container-embed-code").html("<img src="+u.link+" />").show()}if(u.linkTypeId==2){c.find(".container-embed-code").html(u.link).show()}}};G();break;case 11:var c=EH;var containerHidden=c.find(".container-control-hidden");var F=I.controlId;var G=function(){I.updateControlIndex(1);var u=control;$('<input type="hidden" name="'+F+'" class="hidden-field" />').appendTo(containerHidden);if(u.key!=undefined){if(I.data.guidTypeId==1&&I.data.modeId==1){var f=containerHidden.find("input:hidden");f.change(function(){var a={controlId:F,controlParentTypeId:u.parentTypeId,controlParentId:u.parentId,controlTypeId:u.controlTypeId,inputTypeId:u.inputTypeId,controlIndex:parseInt(v.attr("controlindex")),controlContent:u.content,controlKey:u.key,sheetId:I.data.sheets.list[I.data.sheets.lastSelected].sheetId,sheetIndex:I.data.sheets.lastSelected,answerValue:$(this).val()};createResponse({guidTypeId:I.data.guidTypeId,guid:I.data.guid,modeId:I.data.modeId,responseTypeId:responseType.control,async:true,responseData:a,ref:ref,target:targetUrl,respondent:I.config.respondent})});if(u.answerValue!=undefined){f.val(u.answerValue)}else{if(I.data.params!=undefined){if(I.data.params[u.key]!=undefined){f.val(I.data.params[u.key]).trigger("change")}}if($.getUrlParam(u.key)!=""){f.val($.getUrlParam(u.key)).trigger("change")}}}}c.appendTo(v)};G();break;case 12:var c=EO;var F=I.controlId;var G=function(){var u=control;if(u.content!=undefined){c.find(".header-control-content").html(u.content.replace(/\n/gi,"<br/>").replace(/%0A/gi,"<br/>"))}if(u.note!=undefined){c.find(".label-control-note").html(converter.makeHtml(u.note)).show()}c.appendTo(v)};G();break}};J(I.controlTypeId,I.control)};function updatePageNumber(el,config,data){el.find(".label-start-page-number").text((data.sheets.lastSelected+1));el.find(".label-end-page-number").text(data.sheets.list.length);if(data.sheets.list[data.sheets.lastSelected].title!=null){el.find(".header-page-title").show();el.find("#label_page_number").html(data.usePageNumbering?(data.sheets.lastSelected+1)+".&nbsp;":"");el.find("#label_page_title").text((data.sheets.list[data.sheets.lastSelected].title!=null?data.sheets.list[data.sheets.lastSelected].title:""))}else{el.find(".header-page-title").hide()}if(data.sheets.list[data.sheets.lastSelected].description!=null){el.find("#paragraph_page_description").show().html(converter.makeHtml(data.sheets.list[data.sheets.lastSelected].description))}else{el.find("#paragraph_page_description").hide()}if(data.sheets.list[data.sheets.lastSelected].title!=null&&data.sheets.list[data.sheets.lastSelected].description==null){el.find("#paragraph_page_description").empty().show()}}function j(t){el.find("li.control .label-control-number").each(function(i,element){$(element).html((survey.controls.startNumerator+i)+".&nbsp;")})}function getSheetControls(el,config,data,sheetId,index,callback){getControls({guidTypeId:config.guidTypeId,guid:(config.guid!=undefined?config.guid:""),modeId:config.modeId,lastSelected:data.sheets.lastSelected,sheetId:sheetId,index:index,ref:ref,target:targetUrl,respondent:config.respondent,success:function(controls){el.find("ul.list-controls").empty();if(controls.list.length!=0){validateGroup=[];validateElements.elements=[];var controlIndex=0;for(var i=0;i<controls.list.length;i++){if(controls.list[i].parentId==sheetId){var c=controls.list[i];el.find("ul.list-controls").append("<li "+(c.controlTypeId!=11?'class="theme-question ui-question-a" data-theme="a" data-form="ui-question-a"':"")+"/>");var v;v=el.find("ul.list-controls > li:last");v.addClass("control");v.attr({controlid:c.controlId,controlindex:controlIndex});v.control({data:data,config:config,controlId:c.controlId,controlTypeId:c.controlTypeId,controlIndex:i,control:c,updateControlIndex:function(count){controlIndex+=count},getControlIndex:function(){return controlIndex},validateGroup:function(group){validateGroup.push(group)},getValidateGroup:function(){return validateGroup},validateElements:function(element){validateElements.elements.push(element)}})}}if(data.useQuestionNumbering){j()}if(validateElements.elements.length!=0){defaultValidator=new validator({elements:validateElements.elements})}else{defaultValidator=null}}if(data.enablePrevious&&data.sheets.lastSelected!=0&&data.sheets.lastSelected!=((data.sheets.list.length-1))){el.find(".container-previous").show()}else{if(data.enablePrevious&&data.sheets.lastSelected==((data.sheets.list.length-1))&&data.sheets.lastSelected!=0){el.find(".container-previous").show()}else{el.find(".container-previous").hide()}}if(data.sheets.lastSelected==((data.sheets.list.length-1))){el.find(".container-next").hide();el.find(".container-finish").show();$(document).unbind("keydown").keydown(function(event){if(event.which==13){if(!$("textarea").is(":focus")){el.find(".button-finish-survey").trigger("click");event.preventDefault()}}})}else{el.find(".container-next").show();$(document).unbind("keydown").keydown(function(event){if(event.which==13){if(!$("textarea").is(":focus")){el.find(".button-next-page").trigger("click");event.preventDefault()}}});el.find(".container-finish").hide()}updatePageNumber(el,config,data);if(callback!=undefined&&typeof callback=="function"){callback()}},error:function(error){el.find("ul.list-controls").empty();defaultValidator=null;if(data.enablePrevious&&data.sheets.lastSelected!=0&&data.sheets.lastSelected!=((data.sheets.list.length-1))){el.find(".container-previous").show()}else{if(data.enablePrevious&&data.sheets.lastSelected==((data.sheets.list.length-1))&&data.sheets.lastSelected!=0){el.find(".container-previous").show()}else{el.find(".container-previous").hide()}}if(data.sheets.lastSelected==((data.sheets.list.length-1))){el.find(".container-next").hide();el.find(".container-finish").show();$(document).unbind("keydown").keydown(function(event){if(event.which==13){if(!$("textarea").is(":focus")){el.find(".button-finish-survey").trigger("click");event.preventDefault()}}})}else{el.find(".container-next").show();$(document).unbind("keydown").keydown(function(event){if(event.which==13){if(!$("textarea").is(":focus")){el.find(".button-next-page").trigger("click");event.preventDefault()}}});el.find(".container-finish").hide()}updatePageNumber(el,config,data);if(callback!=undefined&&typeof callback=="function"){callback()}}})}function bind(el,config,data){if(data.sheets.list.length>0){el.find(".theme-page").empty();$('<div><h2 class="theme-page-heading ui-page-heading-a header-page-title" data-theme="a" data-form="ui-page-heading-a" style="display: none"><span id="label_page_number"></span><span id="label_page_title">Page Title</span></h2><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a" id="paragraph_page_description" style="display: none">Page Description</div><div><ul class="list-controls"></ul></div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><div class="page-actions"><div class="container-previous" style="display: none;"><a href="#" title="'+data.messages.back+'" class="theme-button ui-button-a button-previous-page" data-theme="a" data-form="ui-button-a"><span>'+data.messages.back+'</span></a></div><div class="container-next" style="display: none"><a href="#" title="'+data.messages.next+'" class="theme-button ui-button-a button-next-page" data-theme="a" data-form="ui-button-a"><span>'+data.messages.next+'</span></a></div><div class="container-finish" style="display: none"><a href="#" title="'+data.messages.finish+'" class="theme-button ui-button-a button-finish-survey" data-theme="a" data-form="ui-button-a"><span>'+data.messages.finish+'</span></a></div><div class="container-paging" style="display: none">Page <b class="label-start-page-number">1</b> of <b class="label-end-page-number">...</b></div></div><div class="page-progress"><div class="progress-bar-container" style="display: none"><div class="theme-progress-bar ui-progress-bar-a" data-theme="a" data-form="ui-progress-bar-a"><div class="outer-bar"><div class="bar"><div class="bar-inner"></div></div></div></div><div class="bar-label">0% completed</div></div></div></div></div>').appendTo(el.find(".theme-page"));if(data.sheets.list.length==1){el.find(".container-paging").hide()}else{if(data.showPaging!=undefined){if(data.showPaging){el.find(".container-paging").show()}else{el.find(".container-paging").hide()}}else{el.find(".container-paging").show()}}if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").addClass("label-placement-"+data.labelPlacement)}}function getProgress(index){var percent=Math.round(100/data.sheets.list.length*index);return percent}if(data.showProgressBar){el.find(".progress-bar-container").show();var percent=getProgress(1);el.find(".bar").css({width:percent+"%"});el.find(".bar-label").text(percent+"% completed")}var disqualification=function(){if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-page").empty();$('<div><div class="theme-page-description ui-page-description-a" data-theme="a">Thanks for your time! We\'re sorry you don\'t qualify for this survey.</div></div>').appendTo(el.find(".theme-page"))};function checkSurveyRules(fallback){if(__surveyRules.length!=0){var messageValue=null;var redirectToValue=null;for(var i=0;i<__surveyRules.length;i++){var engine2=new RuleEngine({conditions:__surveyRules[i].conditions,actions:__surveyRules[i].actions});var conditionsAdapter=[];if(__surveyRules[i].conditions.all){for(var y=0;y<__surveyRules[i].conditions.all.length;y++){var _obj={};_obj[__surveyRules[i].conditions.all[y].name]=findResponse(__surveyRules[i].conditions.all[y].name,__surveyRules[i].conditions.all[y].value);conditionsAdapter.push(_obj)}}if(__surveyRules[i].conditions.any){for(var y=0;y<__surveyRules[i].conditions.any.length;y++){var _obj={};_obj[__surveyRules[i].conditions.any[y].name]=findResponse(__surveyRules[i].conditions.any[y].name,__surveyRules[i].conditions.any[y].value);conditionsAdapter.push(_obj)}}if(__surveyRules[i].conditions.none){for(var y=0;y<__surveyRules[i].conditions.none.length;y++){var _obj={};_obj[__surveyRules[i].conditions.none[y].name]=findResponse(__surveyRules[i].conditions.none[y].name,__surveyRules[i].conditions.none[y].value);conditionsAdapter.push(_obj)}}var actionsAdapter={showMessage:function(_data){messageValue=_data.data.fields[0].value},redirectTo:function(_data){redirectToValue=_data.data.fields[0].value}};engine2.run(conditionsAdapter,actionsAdapter)}if(messageValue!=null||redirectToValue!=null){if(messageValue!=null){if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-page").empty();$('<div><div class="theme-page-description ui-page-description-a" data-theme="a">'+(messageValue!=""?converter.makeHtml(messageValue):"")+"</div></div>").appendTo(el.find(".theme-page"))}if(redirectToValue!=null){location.href=redirectToValue}}else{if(fallback!=undefined&&typeof fallback=="function"){fallback()}}}else{if(fallback!=undefined&&typeof fallback=="function"){fallback()}}}var finishSurvey=function(){if(data.guidTypeId==1&&data.modeId==1){var sheetId=data.sheets.list[data.sheets.lastSelected].sheetId;var lastSelected=data.sheets.lastSelected;var obj={sheetIndex:lastSelected,sheetId:sheetId};createResponse({guidTypeId:data.guidTypeId,guid:data.guid,modeId:data.modeId,responseTypeId:responseType.finishOpinion,async:true,responseData:obj,ref:ref,target:targetUrl,respondent:config.respondent,success:function(){checkSurveyRules(function(){if(data.returnUrl!=undefined){location.href=data.returnUrl}else{if(data.customFinishBehaviour!=0){if(data.customFinishBehaviour==1){if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-page").empty();$('<div><div class="theme-page-description ui-page-description-a" data-theme="a">'+(data.messages.finishMessage!=null?converter.makeHtml(data.messages.finishMessage):"")+"</div></div>").appendTo(el.find(".theme-page"))}if(data.customFinishBehaviour==2){location.href=data.redirectUrl}}else{if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-survey-heading").text(messages.thanks);el.find(".theme-page").empty();$('<div><div><h2 class="theme-page-heading ui-page-heading-a" data-theme="a" data-form="ui-page-heading-a">Now create your own online surveys, for free!</h2><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a"><ul class="ls"><li>Create free online surveys in minutes, and view results in real time.</li><li>Share a link to your survey through email, Facebook, Twitter or your website.</li><li>View reports for your data live as it\'s being collected.</li></ul></div></div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a" title="Sign Up FREE" href="http://www.inqwise.com/en-us/register?ref=collector" target="_blank"><span>Sign Up FREE</span></a> It\'s quick and easy to get started.</div></div>').appendTo(el.find(".theme-page"))}}})}})}else{checkSurveyRules(function(){if(data.returnUrl!=undefined){location.href=data.returnUrl}else{if(data.customFinishBehaviour!=0){if(data.customFinishBehaviour==1){if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-page").empty();$('<div><div class="theme-page-description ui-page-description-a" data-theme="a">'+(data.messages.finishMessage!=null?converter.makeHtml(data.messages.finishMessage):"")+"</div></div>").appendTo(el.find(".theme-page"))}if(data.customFinishBehaviour==2){location.href=data.redirectUrl}}else{if(data.labelPlacement!=undefined){if(data.labelPlacement!=0){el.find(".theme-page").removeClass("label-placement-"+data.labelPlacement)}}el.find(".theme-survey-heading").text(messages.thanks);el.find(".theme-page").empty();$('<div><div><h2 class="theme-page-heading ui-page-heading-a" data-theme="a" data-form="ui-page-heading-a">Now create your own-it\'s free, quick &amp; easy!</h2><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a"><ul class="ls"><li>Create free surveys in minutes, using inline survey editor.</li><li>Share a link to your survey through email, Facebook, Twitter or your website.</li><li>View reports for your data live as it\'s being collected.</li></ul></div></div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a" title="Sign Up FREE" href="http://www.inqwise.com/en-us/register?ref=collector" target="_blank"><span>Sign Up FREE</span></a> It\'s quick and easy to get started.</div></div>').appendTo(el.find(".theme-page"))}}})}$(document).unbind("keydown");if(config.embed!=undefined){if(!config.embed){if(data.returnUrl!=undefined){}else{if(data.redirectUrl!=undefined){}else{window.scrollTo(0,0)}}}}initInspector()};var nextPage=function(newIndex){var currentSelected=data.sheets.lastSelected;if(newIndex!=undefined){data.sheets.lastSelected=newIndex}else{data.sheets.lastSelected++}if(data.showProgressBar){var percent=getProgress(data.sheets.lastSelected+1);el.find(".bar").css({width:percent+"%"});el.find(".bar-label").text(percent+"% completed")}if(data.sheets.lastSelected<=((data.sheets.list.length-1))){if(data.guidTypeId==1&&data.modeId==1){var sheetId=data.sheets.list[data.sheets.lastSelected].sheetId;var lastSelected=data.sheets.lastSelected;var obj={sheetIndex:currentSelected,sheetId:data.sheets.list[currentSelected].sheetId,targetIndex:lastSelected,targetId:sheetId};createResponse({guidTypeId:data.guidTypeId,guid:data.guid,modeId:data.modeId,responseTypeId:responseType.nextSheet,async:true,responseData:obj,ref:ref,target:targetUrl,respondent:config.respondent,success:function(){getSheetControls(el,config,data,data.sheets.list[data.sheets.lastSelected].sheetId,data.sheets.lastSelected,function(){if(config.embed!=undefined){if(!config.embed){window.scrollTo(0,0)}}initInspector()})}})}else{getSheetControls(el,config,data,data.sheets.list[data.sheets.lastSelected].sheetId,data.sheets.lastSelected,function(){if(config.embed!=undefined){if(!config.embed){window.scrollTo(0,0)}}initInspector()})}}};function checkPageRules(fallback){if(__pageRules.length!=0){var skipToSheetId=null;for(var i=0;i<__pageRules.length;i++){var engine=new RuleEngine({conditions:__pageRules[i].conditions,actions:__pageRules[i].actions});var conditionsAdapter=[];if(__pageRules[i].conditions.all){for(var y=0;y<__pageRules[i].conditions.all.length;y++){var _obj={};_obj[__pageRules[i].conditions.all[y].name]=findResponse(__pageRules[i].conditions.all[y].name,__pageRules[i].conditions.all[y].value);conditionsAdapter.push(_obj)}}if(__pageRules[i].conditions.any){for(var y=0;y<__pageRules[i].conditions.any.length;y++){var _obj={};_obj[__pageRules[i].conditions.any[y].name]=findResponse(__pageRules[i].conditions.any[y].name,__pageRules[i].conditions.any[y].value);conditionsAdapter.push(_obj)}}if(__pageRules[i].conditions.none){for(var y=0;y<__pageRules[i].conditions.none.length;y++){var _obj={};_obj[__pageRules[i].conditions.none[y].name]=findResponse(__pageRules[i].conditions.none[y].name,__pageRules[i].conditions.none[y].value);conditionsAdapter.push(_obj)}}var actionsAdapter={skipTo:function(_data){skipToSheetId=_data.data.fields[0].value}};engine.run(conditionsAdapter,actionsAdapter)}if(skipToSheetId!=null){if(skipToSheetId=="finish"){finishSurvey()}else{if(skipToSheetId=="disqualification"){disqualification()}else{for(var z=0;z<data.sheets.list.length;z++){if(data.sheets.list[z].sheetId==skipToSheetId){if(data.sheets.lastSelected!=z){nextPage(z)}else{if(fallback!=undefined&&typeof fallback=="function"){fallback()}}break}}}}}else{if(fallback!=undefined&&typeof fallback=="function"){fallback()}}}else{if(fallback!=undefined&&typeof fallback=="function"){fallback()}}}el.find(".button-previous-page").click(function(event){el.find(".button-previous-page").focus();if(data.sheets.lastSelected>0){var currentSelected=data.sheets.lastSelected;data.sheets.lastSelected--;if(data.showProgressBar){var percent=getProgress(data.sheets.lastSelected+1);el.find(".bar").css({width:percent+"%"});el.find(".bar-label").text(percent+"% completed")}if(data.guidTypeId==1&&data.modeId==1){var sheetId=data.sheets.list[data.sheets.lastSelected].sheetId;var lastSelected=data.sheets.lastSelected;var obj={sheetIndex:currentSelected,sheetId:data.sheets.list[currentSelected].sheetId,targetIndex:lastSelected,targetId:sheetId};createResponse({guidTypeId:data.guidTypeId,guid:data.guid,modeId:data.modeId,responseTypeId:responseType.prevSheet,async:true,responseData:obj,ref:ref,target:targetUrl,respondent:config.respondent,success:function(){getSheetControls(el,config,data,data.sheets.list[data.sheets.lastSelected].sheetId,data.sheets.lastSelected,function(){if(config.embed!=undefined){if(!config.embed){window.scrollTo(0,0)}}initInspector()})}})}else{getSheetControls(el,config,data,data.sheets.list[data.sheets.lastSelected].sheetId,data.sheets.lastSelected,function(){if(config.embed!=undefined){if(!config.embed){window.scrollTo(0,0)}}initInspector()})}}event.preventDefault()});el.find(".button-next-page").click(function(event){el.find(".button-next-page").focus();if(defaultValidator){defaultValidator.validate({accept:function(){checkPageRules(function(){nextPage()})},error:function(){}})}else{checkPageRules(function(){nextPage()})}event.preventDefault()});el.find(".button-finish-survey").click(function(event){el.find(".button-finish-survey").focus();if(defaultValidator){defaultValidator.validate({accept:function(){finishSurvey()},error:function(){}})}else{finishSurvey()}event.preventDefault()});getSheetControls(el,config,data,data.sheets.list[data.sheets.lastSelected].sheetId,data.sheets.lastSelected,function(){initInspector()})}}function bindPaging(el,config,data){if(data.isEnableStartMessage&&!data.isSessionStart){el.find(".theme-page").empty();var s=$('<div><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a">'+converter.makeHtml(data.messages.startMessage)+'</div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a button-start-survey" title="'+data.messages.start+'" href="#"><span>'+data.messages.start+"</span></a></div></div>").appendTo(el.find(".theme-page"));s.find(".button-start-survey").click(function(event){$(this).focus();if(config.embed!=undefined){if(!config.embed){window.scrollTo(0,0)}}bind(el,config,data);event.preventDefault()});$(document).unbind("keydown").keydown(function(event){if(event.which==13){s.find(".button-start-survey").trigger("click");event.preventDefault()}})}else{bind(el,config,data)}}function retrieve(el,config,data,isBody){if(data.isClosed&&data.closedUrl!=undefined){location.href=data.closedUrl}else{if(data.answersAreFinished&&data.screenOutUrl!=undefined){location.href=data.screenOutUrl}else{var s=$('<div class="theme-wrapper ui-wrapper-a" data-theme="a" data-form="ui-wrapper-a"><div class="theme-header ui-header-a" data-theme="a" data-form="ui-header-a"><div class="theme-logo ui-logo-a" data-theme="a" data-form="ui-logo-a" id="logo" style="display: none;"></div></div><div class="theme-content ui-content-a" data-theme="a" data-form="ui-content-a"><div><h1 class="theme-survey-heading ui-survey-heading-a" data-theme="a" data-form="ui-survey-heading-a">Survey Heading</h1><div class="theme-page ui-page-a" data-theme="a" data-form="ui-page-a"></div></div></div><div class="theme-footer ui-footer-a" data-theme="a" data-form="ui-footer-a">'+((data.hidePoweredBy!=undefined&&data.hidePoweredBy==true)?"":'Powered by <a title="Online Survey Tool" href="http://www.inqwise.com" target="_blank">Inqwise</a>')+"</div></div>");s.appendTo(el);if(data.isRtl){if(isBody){$("body").addClass("oposite-direction")}else{el.addClass("oposite-direction")}}if(data.noStyle){}else{var style=$('<style type="text/css" />').appendTo(el);if(style[0].styleSheet!==undefined&&style[0].styleSheet.cssText!==undefined){style[0].styleSheet.cssText=data.styleBlock}else{style.text(data.styleBlock)}}if(config.embed!=undefined){if(!config.embed){document.title=data.name}}if(config.analytics!=undefined){if(config.analytics){_gaq.push(["inqwise._set","title",data.name]);_gaq.push(["inqwise._trackPageview"])}}else{_gaq.push(["inqwise._set","title",data.name]);_gaq.push(["inqwise._trackPageview"])}if(data.logoUrl){s.find("#logo").show().append('<img src="'+data.logoUrl+'" alt="'+data.name+'"/>')}if(!data.isClosed){if(data.isPasswordRequired){s.find(".theme-survey-heading").text(data.name);var s=$('<div><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a"><div>This survey requires a password before you can continue. <br/>If you forget or lose the password, or you don\'t know the password, contact the author of this survey for further assistance.</div><div class="params"><div class="param-name"><label>* Password:</label></div><div class="param-value"><div><input type="password" id="text_password" name="text-password" class="text-field" maxlength="12" autocomplete="off" /></div><div><label id="status_text_password"></label></div></div></div><div style="clear: both;"><ul class="error-message"><li style="display: none;" class="status" id="error_message_invalid_password">The password you entered is incorrect.</li></ul></div></div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a" title="Continue" href="#" id="button_continue"><span>Continue</span></a></div></div>').appendTo(el.find(".theme-page"));s.find("#text_password").focus();var internalValidator=new validator({elements:[{name:"text-password",status:s.find("#status_text_password"),rules:[{method:"required",message:"This field is required."},{method:"rangelength",pattern:[6,12]}]}],submitElement:s.find("#button_continue"),messages:null,accept:function(){createResponse({guidTypeId:data.guidTypeId,guid:data.guid,modeId:data.modeId,responseTypeId:responseType.authorize,async:false,responseData:null,ref:ref,target:targetUrl,respondent:config.respondent,password:$.removeHTMLTags(s.find("#text_password").val()).replace(/\r/g,""),success:function(){$(document).unbind("keydown");if(data.sheets.list.length!=0){bindPaging(el,config,data)}},error:function(error){if(error.error=="InvalidPassword"){s.find("#error_message_invalid_password").show()}}})},error:function(){}});$(document).bind("keydown",function(e){var code;if(!e){var e=window.event}if(e.keyCode){code=e.keyCode}else{if(e.which){code=e.which}}if(code==13){if(!s.find("#button_continue").is(":focus")){internalValidator.validate()}}})}else{if(data.answersAreFinished){s.find(".theme-survey-heading").text(data.name);if(data.customFinishBehaviour!=0){$('<div><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a">'+(data.messages.completedMessage!=null?converter.makeHtml(data.messages.completedMessage):messages.completed)+"</div></div>").appendTo(el.find(".theme-page"))}else{$('<div><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a">'+(data.messages.completedMessage!=null?converter.makeHtml(data.messages.completedMessage):messages.completed)+'</div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a" title="Sign Up FREE" href="http://www.inqwise.com/en-us/register?ref=collector" target="_blank"><span>Sign Up FREE</span></a> It\'s quick and easy to get started.</div></div>').appendTo(el.find(".theme-page"))}}else{s.find(".theme-survey-heading").text(data.name);if(data.sheets.list.length!=0){bindPaging(el,config,data)}}}}else{if(data.closeMessage!=undefined){s.find(".theme-survey-heading").text(data.name);$('<div><div class="theme-page-description ui-page-description-a" data-theme="a" data-form="ui-page-description-a">'+converter.makeHtml(data.closeMessage)+'</div><div class="theme-page-actions ui-page-actions-a" data-theme="a" data-form="ui-page-actions-a"><a data-form="ui-button-a" data-theme="a" class="theme-button ui-button-a" title="Sign Up FREE" href="http://www.inqwise.com/en-us/register?ref=collector" target="_blank"><span>Sign Up FREE</span></a> It\'s quick and easy to get started.</div></div>').appendTo(el.find(".theme-page"))}}initInspector()}}}function render(el,config,data,isBody){if(config.guidTypeId==1){if(config.modeId==1){retrieve(el,config,data,isBody)}else{if(config.modeId==0){if(!config.noStyle){$("#notification_box").show()}retrieve(el,config,data,isBody)}}}else{if(config.noStyle){enableInspector=true}if(!config.noStyle){$("#notification_box").show()}retrieve(el,config,data,isBody)}}function fromConfig(config,callback){if(config.guidTypeId==undefined){config.guidTypeId=1}if(config.modeId==undefined){config.modeId=1}if(protocol=="https://"){servletUrl=(config.collectorSecureUrl!=undefined?config.collectorSecureUrl:"https://api.inqwise.com")+"/collector"}else{servletUrl=(config.collectorUrl!=undefined?config.collectorUrl:"http://api.inqwise.com")+"/collector"}getDetails({guidTypeId:config.guidTypeId,guid:(config.guid!=undefined?config.guid:""),modeId:config.modeId,themeId:(config.themeId!=undefined?config.themeId:null),ref:ref,target:targetUrl,respondent:config.respondent,urlParams:null,success:function(data){isSendClientInfo=data.isSendClientInfo;sessionId=data.sessionId;sessionKey=data.sessionKey;$.extend(data,config);callback(config,data)},error:function(error){switch(error.error){case"NoResults":break;case"NotExist":break;case"ArgumentNull":break}}})}var init=function(){fromConfig(options.config,function(config,data){render(el,config,data,options.isBody)})};init()}})})(jq);function findScript(target){return $("script").filter(function(){return this.src.match(target)})}function evalConfig(html){if(html){var inner=html.replace(/^[\s\xA0]*(\/\/\s?\<\!\[CDATA\[)?/,"").replace(/(\/\/\s?\]\]\>)?[\s\xA0]*$/,"");if(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]+$/.test(inner.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))){try{return eval("("+inner+")")}catch(err){}}}return{}}var converter=new showdown.Converter();$.extend({num:function(v){var n=parseInt(v);return n==null||isNaN(n)?0:n},toUniqArr:function(arr){var r=[],d={};for(var i=0,l=arr.length;i<l;i++){var id=arr[i];if(!done[id]){done[id]=true;r.push(arr[i])}}return r},isArray:function(v){return typeof(v)=="object"&&v!=null&&typeof(v.length)=="number"},isNullOrEmpty:function(o){if(o==null&&o==""){return true}return false},isNull:function(o){if(o==null&&o==undefined){return true}return false},addCommas:function(num){num+="";x=num.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,"$1,$2")}return x1+x2},getUrlParam:function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var res=(new RegExp("[\\?&]"+name+"=([^&#]*)")).exec(window.location.href);return res?decodeURIComponent(res[1]):""},removeHTMLTags:function(s){s=s.replace(/&(lt|gt);/g,function(strMatch,p1){return(p1=="lt")?"<":">"});return s.replace(/<\/?[^>]+(>|$)/g,"")},getTimestamp:Date.now||function(){return +(new Date).getTime()},pad:function(val,len){val=String(val);len=len||2;while(val.length<len){val="0"+val}return val}});(function($){validator=function(givenOptions){var successList=[];var disallowedList=[];var accepted=false;var options=$.extend({elements:[],errorList:null,errorTemplate:null,submitElement:null,accept:null,error:null},givenOptions);var messages={required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:"Please enter no more than {0} characters.",minlength:"Please enter at least {0} characters.",rangelength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",equal:"The value is not equal {0}."};var methods=function(method,el,value,pattern,parent){switch(method){case"required":switch(el[0].nodeName.toLowerCase()){case"select":return(value!="0")&&value.length>0;case"input":if(checkable(el)){return getLength(value,el)>0}default:return $.trim(value).length>0}case"digits":return/^\d+$/.test(value);case"number":return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value);case"email":return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);case"emailISO":return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/i.test(value);case"url":return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/i.test(value);case"minlength":var p=pattern?pattern:0;if(getLength($.trim(value),el)>=p){return true}return false;case"maxlength":var p=pattern?pattern:0;if(getLength($.trim(value),el)<=p){return true}return false;case"min":if(parseFloat(value)>=parseFloat(pattern)){return true}return false;case"max":if(parseFloat(value)<=parseFloat(pattern)){return true}return false;case"rangelength":var length=getLength($.trim(value),el);var min=pattern[0]?pattern[0]:0;var max=pattern[1]?pattern[1]:0;if((length>=min&&length<=max)){return true}return false;case"range":var min=pattern[0]?pattern[0]:0;var max=pattern[1]?pattern[1]:0;if(value>=min&&value<=max){return true}return false;case"date":return !/Invalid|NaN/.test(new Date(value));case"dateISO":return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value);case"creditcard":if(/[^0-9-]+/.test(value)){return false}var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9}}nCheck+=nDigit;bEven=!bEven}return(nCheck%10)==0;case"equalTo":if(parent){var target=parent;target.unbind("blur").bind("blur",function(){validate(el)});if($.trim((value!=null?(value.replace(/\r/g,"")):value)).length!=0){if(value==target.val()){return true}}}else{if(pattern!=undefined){if(pattern instanceof RegExp){if($.trim((value!=null?(value.replace(/\r/g,"")):value)).length!=0){var exp=new RegExp(pattern);if(exp.test(value)){return true}}}else{if(typeof pattern=="function"){if(pattern()){return true}}}}}return false;case"notEqualTo":if(parent){var target=parent;target.unbind("blur").bind("blur",function(){validate(el)});if($.trim((value!=null?(value.replace(/\r/g,"")):value)).length!=0){if(value!=target.val()){return true}}}else{if(pattern!=undefined){if(pattern instanceof RegExp){if($.trim((value!=null?(value.replace(/\r/g,"")):value)).length!=0){var exp=new RegExp(pattern);if(!exp.test(value)){return true}}}else{if(typeof pattern=="function"){if(!pattern()){return true}}}}}return false;default:return(value==pattern)}};var isExist=function(name){if(successList.length>0){for(var i=0;i<successList.length;i++){if(successList[i]==name){return true}}}return false};var removeElement=function(name){if(successList.length>0){for(var i=0;i<successList.length;i++){if(successList[i]==name){removeFromArray(successList,i);break}}}};var checkable=function(element){return/radio|checkbox/i.test(element[0].type)};var clean=function(selector){return $(selector)[0]};var getLength=function(value,element){switch(element[0].nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(checkable(element)){return findByName(element[0].name).filter(":checked").length}}return value.length};var lastActive=null;var lastElement=null;var elements=options.elements;var groups=[];var getGroup=function(groupName){for(var i=0;i<groups.length;i++){if(groups[i].groupName==groupName){return groups[i]}}return null};var getElement=function(el){for(var i=0;i<elements.length;i++){if(elements[i].element){if(elements[i].element.attr("name")==el.attr("name")){return elements[i]}}}return null};var findByName=function(name){return $(document.getElementsByName(name)).map(function(index,element){return element.name==name&&element||null})};if(elements.length>0){for(var i=0;i<elements.length;i++){if(elements[i].name){var name=elements[i].name;var el=findByName(name);elements[i].element=$(el);elements[i].element.removeClass("invalid valid predefined").validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",function(event){delegate($(this),event.type)}).validateDelegate(":radio, :checkbox, select, option","click change",function(event){delegate($(this),event.type)});var errorLabel=null;if(options.errorTemplate){errorLabel=options.errorTemplate().addClass("status validator-"+name).hide()}else{errorLabel=$('<label class="status validator-'+name+'" style="display: none"></label>')}if(options.errorList){if(options.errorList.placeholder){if(!isExist(name)){if(options.errorList.errorTemplate){options.errorList.errorTemplate().addClass("status validator-"+name).hide().appendTo(options.errorList.placeholder)}else{errorLabel.appendTo(options.errorList.placeholder)}}}}else{if(!isExist(name)){if(elements[i].status){elements[i].status.addClass("status validator-"+name).hide()}else{if(elements[i].showError!=undefined){if(elements[i].showError){elements[i].element.after(errorLabel)}}else{elements[i].element.after(errorLabel)}}}}successList.push(name)}if(elements[i].group){var groupName=null;var lastGroupElement=null;elements[i].group=findByName(elements[i].group);elements[i].group.each(function(y,el){if(y==(elements[i].group.length-1)){lastGroupElement=$(el);groupName=lastGroupElement.attr("name")}groups.push({groupName:groupName,group:elements[i].group,rules:elements[i].rules,error:elements[i].error,success:elements[i].success});$(el).removeClass("invalid valid predefined").validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",function(event){var group=getGroup($(this).attr("name"));delegate($(this),event.type,group)}).validateDelegate(":radio, :checkbox, select, option","click change",function(event){var group=getGroup($(this).attr("name"));delegate($(this),event.type,group)})});successList.push(groupName);var errorLabel=null;if(options.errorTemplate){errorLabel=options.errorTemplate().addClass("status validator-"+groupName).hide()}else{errorLabel=$('<label class="status validator-'+groupName+'" style="display: none"></label>')}if(options.errorList){if(options.errorList.placeholder){if(options.errorList.errorTemplate){options.errorList.errorTemplate().addClass("status validator-"+groupName).hide().appendTo(options.errorList.placeholder)}else{errorLabel.appendTo(options.errorList.placeholder)}}}else{if(elements[i].status){elements[i].status.addClass("status validator-"+groupName).hide()}else{if(elements[i].showError!=undefined){if(elements[i].showError){lastGroupElement.after(errorLabel)}}else{lastGroupElement.after(errorLabel)}}}}}}var validateForm=function(){disallowedList=[];if(elements.length>0){for(var i=0;i<elements.length;i++){if(elements[i].element){var t=elements[i];var v=true;var el=t.element;if(t.validate){if(typeof t.validate=="function"){v=t.validate()}else{v=t.validate()}}if(v){el.addClass("predefined")}validate(el)}if(elements[i].group){elements[i].group.addClass("predefined");validateGroup(elements[i])}}}};var validateGroup=function(group){var f=group;if(f){var group=f.group;var rules=f.rules;var isCheckable=false;var groupName=null;var k=0;var r=0;var check=function(el){var u=0;for(var i=0;i<rules.length;i++){if(methods(rules[i].method,el,el.val(),rules[i].pattern,rules[i].element)){u++}else{break}}if(isCheckable){if(u!=rules.length){k++;r=u}}else{if(u!=rules.length){el.addClass("invalid").removeClass("valid");k++;r=u}else{el.removeClass("invalid").addClass("valid")}}};if(rules){group.each(function(y,el){if(y==(group.length-1)){groupName=$(el).attr("name")}if(checkable($(el))){if(isCheckable!=true){isCheckable=true}}check($(el))});var errorLabel=$(".validator-"+groupName);if(isCheckable){if(k==group.length){if(isExist(groupName)!=true){successList.push(groupName)}disallowedList.push(groupName);group.addClass("invalid").removeClass("valid");var message=(rules[r].message?rules[r].message:messages[rules[r].method]);if(rules[r].pattern){var pattern=rules[r].pattern;if(pattern.constructor!=Array){pattern=[pattern]}$.each(pattern,function(i,n){message=message.replace(new RegExp("\\{"+i+"\\}","g"),n)})}if(!(f.showError!=undefined&&!f.showError)){errorLabel.text(message).show()}if(f.error){if(typeof f.error=="function"){f.error(message)}}}else{if(isExist(groupName)==true){removeElement(groupName)}group.removeClass("invalid").addClass("valid");errorLabel.text("").hide();if(f.success){if(typeof f.success=="function"){f.success()}}}}else{if(k!=0){if(isExist(groupName)!=true){successList.push(groupName)}disallowedList.push(groupName);var message=(rules[r].message?rules[r].message:messages[rules[r].method]);if(rules[r].pattern){var pattern=rules[r].pattern;if(pattern.constructor!=Array){pattern=[pattern]}$.each(pattern,function(i,n){message=message.replace(new RegExp("\\{"+i+"\\}","g"),n)})}if(!(f.showError!=undefined&&!f.showError)){errorLabel.text(message).show()}if(f.error){if(typeof f.error=="function"){f.error(message)}}}else{if(isExist(groupName)==true){removeElement(groupName)}errorLabel.text("").hide();if(f.success){if(typeof f.success=="function"){f.success()}}}}}}};var validate=function(element){var t=getElement(element);if(t){var el=t.element;var name=el.attr("name");var rules=t.rules;var v=true;if(t.validate){if(typeof t.validate=="function"){v=t.validate()}else{v=t.validate()}}var errorLabel=$(".validator-"+name);if(v){if(rules){var u=0;var G=function(){for(var y=0;y<rules.length;y++){if(methods(rules[y].method,el,el.val(),rules[y].pattern,rules[y].element)){u++}else{break}}};G();if(u!=rules.length){if(isExist(name)!=true){successList.push(name)}disallowedList.push(name);el.addClass("invalid").removeClass("valid");var message=(rules[u].message?rules[u].message:messages[rules[u].method]);if(rules[u].pattern){var pattern=rules[u].pattern;if(pattern.constructor!=Array){pattern=[pattern]}$.each(pattern,function(i,n){message=message.replace(new RegExp("\\{"+i+"\\}","g"),n)})}if(!(t.showError!=undefined&&!t.showError)){errorLabel.text(message).show()}if(t.error){if(typeof t.error=="function"){t.error(message)}}}else{if(isExist(name)==true){removeElement(name)}el.removeClass("invalid").addClass("valid");errorLabel.text("").hide();if(t.success){if(typeof t.success=="function"){t.success()}}}}}else{if(isExist(name)==true){removeElement(name)}el.removeClass("invalid").addClass("valid");errorLabel.text("").hide()}}};var delegate=function(element,eventType,group){if(eventType=="focusin"){if(lastActive!=null&&lastActive!=element){}lastActive=element;if(element.hasClass("predefined")){if(group){validateGroup(group)}else{validate(element)}}}if(eventType=="focusout"){if(element.val().length!=0){element.addClass("predefined")}if(element.hasClass("predefined")){if(group){validateGroup(group)}else{validate(element)}}}if(eventType=="keyup"){if(element.hasClass("predefined")){if(group){validateGroup(group)}else{validate(element)}}}if(eventType=="click"||eventType=="change"){if(element.hasClass("predefined")){if(group){validateGroup(group)}else{validate(element)}}}};if(options.submitElement!=undefined){options.submitElement.unbind("click").click(function(event){checkAll();event.preventDefault()})}var checkAll=function(callback){validateForm();if(disallowedList.length!=0){disallowedList.reverse();findByName(disallowedList[disallowedList.length-1]).filter(".invalid:first").filter(":visible").focus();if(options.errorList){if(options.errorList.placeholder){if(!options.errorList.placeholder.is(":visible")){options.errorList.placeholder.show()}}}if(options.error!=undefined&&typeof options.error=="function"){options.error()}if(callback){if(callback.error!=undefined&&typeof callback.error=="function"){callback.error()}}}if(options.accept!=undefined&&typeof options.accept=="function"){if(successList.length==0){options.accept()}}if(callback){if(callback.accept!=undefined&&typeof callback.accept=="function"){if(successList.length==0){callback.accept()}}}};return{validate:function(callback){checkAll(callback)}}}})($);(function($){if(!$.event.special.focusin&&!$.event.special.focusout&&document.addEventListener){$.each({focus:"focusin",blur:"focusout"},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true)},teardown:function(){this.removeEventListener(original,handler,true)},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments)}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,e)}})}$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments)}})}})})($);(function($){$.fn.emptySelect=function(){return this.each(function(){if(this.tagName=="SELECT"){this.options.length=0}})};$.fn.loadSelect=function(optionsDataArray){return this.emptySelect().each(function(){if(this.tagName=="SELECT"){var selectElement=this;$.each(optionsDataArray,function(index,optionData){var option=new Option(optionData.caption,optionData.value);try{selectElement.add(option)}catch(ex){selectElement.add(option,null)}})}})}})($);function removeFromArray(array,from,to){if($.isArray(array)){var rest=array.slice((to||from)+1||array.length);array.length=from<0?array.length+from:from;return array.push.apply(array,rest)}}(function(){var p={init:function(){this.browser=this.browser();this.screen=this._screen();this.os=this.os()},timeZone:function(){var f=function(a){var b=parseInt(a);a-=parseInt(a);a*=60;var c=parseInt(a);a-=parseInt(a);a*=60;var d=parseInt(a);var e=b;if(b==0){e="00"}else{if(b>0){e=(b<10)?"+0"+b:"+"+b}else{e=(b>-10)?"-0"+Math.abs(b):b}}c=(c<10)?"0"+c:c;return e+":"+c};var g=new Date();var h=new Date(g.getFullYear(),0,1,0,0,0,0);var i=new Date(g.getFullYear(),6,1,0,0,0,0);var j=h.toGMTString();var k=new Date(j.substring(0,j.lastIndexOf(" ")-1));j=i.toGMTString();var l=new Date(j.substring(0,j.lastIndexOf(" ")-1));var m=(h-k)/(1000*60*60);var n=(i-l)/(1000*60*60);if(m==n){}else{var o=m-n;if(o>=0){m=n}}return f(m)},os:function(){var a="Unknown OS";var b=window.navigator.platform;var c=navigator.userAgent;if(c.indexOf("Win")!=-1){if((c.indexOf("Windows NT 5.1")!=-1)||(c.indexOf("Windows XP")!=-1)){a="Win XP"}else{if((c.indexOf("Windows NT 7.0")!=-1)||(c.indexOf("Windows NT 6.1")!=-1)){a="Win 7/Server 2008"}else{if((c.indexOf("Windows NT 6.0")!=-1)){a="Win Vista/Server 2008"}else{if(c.indexOf("Windows ME")!=-1){a="Win ME"}else{if((c.indexOf("Windows NT 4.0")!=-1)||(c.indexOf("WinNT4.0")!=-1)||(c.indexOf("WinNT")!=-1)){a="Win NT"}else{if((c.indexOf("Windows NT 5.2")!=-1)){a="Win Server 2003"}else{if((c.indexOf("Windows NT 5.0")!=-1)||(c.indexOf("Windows 2000")!=-1)){a="Win 2000"}else{if((c.indexOf("Windows 98")!=-1)||(c.indexOf("Win98")!=-1)){a="Win 98"}else{if((c.indexOf("Windows 95")!=-1)||(c.indexOf("Win95")!=-1)||(c.indexOf("Windows_95")!=-1)){a="Win 95"}else{if((c.indexOf("Win16")!=-1)){a="Win 3.1"}else{a="Win Ver. Unknown"}}}}}}}}}}if((c.indexOf("WOW64")!=-1)||(c.indexOf("x64")!=-1)||(c.indexOf("Win64")!=-1)||(c.indexOf("IA64")!=-1)){a=a+" (x64)"}else{a=a+" (x32)"}}else{if(c.indexOf("Mac")!=-1){a="MacOS"}else{if(c.indexOf("X11")!=-1){a="UNIX"}else{if(c.indexOf("Linux")!=-1){a="Linux"}}}}return{name:a,version:null,platform:b,cpuClass:((navigator.cpuClass)?navigator.cpuClass:""),oscpu:window.navigator.oscpu,isOnline:window.navigator.onLine,systemLanguage:((window.navigator.systemLanguage!=undefined)?window.navigator.systemLanguage:window.navigator.language),timeZone:this.timeZone()}},_screen:function(){return{width:screen.width,height:screen.height,color:((screen.pixelDepth!=undefined)?screen.pixelDepth:screen.colorDepth)}},searchString:function(d){for(var i=0;i<d.length;i++){var s=d[i].string;var p=d[i].prop;this.versionSearchString=d[i].versionSearch||d[i].identity;if(s){if(s.indexOf(d[i].subString)!=-1){return d[i].identity}}else{if(p){return d[i].identity}}}},searchVersion:function(d){var i=d.indexOf(this.versionSearchString);if(i==-1){return}return parseFloat(d.substring(i+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],browser:function(){var i=function(){var a=false;if(navigator.plugins&&navigator.plugins.length){for(x=0;x<navigator.plugins.length;x++){if(navigator.plugins[x].name.indexOf("Java(TM)")!=-1){a=true;break}}}if(navigator.javaEnabled()){a=true}return{isInstalled:a}};var j=function(){var c=false;u=10;h="0.0";if(navigator.plugins&&navigator.plugins.length){for(x=0;x<navigator.plugins.length;x++){if(navigator.plugins[x].name.indexOf("Shockwave Flash")!=-1){h=navigator.plugins[x].description.split("Shockwave Flash ")[1];c=true;break}}}else{if(window.ActiveXObject){for(x=2;x<=u;x++){try{oFlash=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+x+"');");if(oFlash){c=true;h=x+".0"}}catch(e){}}}}return{isInstalled:c,version:h}};return{name:this.searchString(this.dataBrowser)||"An unknown browser",appName:window.navigator.appName,vendor:((window.navigator.vendor)?window.navigator.vendor:""),appCodeName:window.navigator.appCodeName,appVersion:window.navigator.appVersion,product:window.navigator.product,buildNumber:((window.opera)?window.opera.buildNumber():((window.navigator.productSub)?window.navigator.productSub:"")),userAgent:window.navigator.userAgent,cookieEnabled:window.navigator.cookieEnabled,version:this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",java:i(),flash:j()}}};p.init();$.client={os:p.os,browser:p.browser,screen:p.screen}})();$(document).ready(function($){var target=/(^https?:\/\/[^\/]*(\:\d+)?)?\/.*scripts\/widget\/1.1.2\/survey\.js/;findScript(target).each(function(){var config=evalConfig($(this).html());if(config.guid!=undefined){var isBody=false;if(config.embed!=undefined){if(!config.embed){isBody=true}}var el=$("<div/>");if(isBody){$("body").attr({"data-theme":"a","data-form":"ui-body-a"}).addClass("theme-body ui-body-a survey survey-"+config.guid)}else{el.attr({"data-theme":"a","data-form":"ui-body-a"}).addClass("theme-body ui-body-a survey survey-"+config.guid)}var that=this;$(that).before(el).remove();el.survey({config:config,isBody:isBody})}});if(typeof _inq!="undefined"){var a=window._inq;window._inq=[];_inq.queue=[];_inq.queue.inQueue=function(comparer){for(var i=0;i<this.length;i++){if(comparer(this[i])){return true}}return false};_inq.queue.pushIfNotExist=function(element,comparer){if(!this.inQueue(comparer)){this.push(element);var config=element;if(config.guid!=undefined){if(config.element!=undefined){var el=$(config.element).empty();el.attr({"data-theme":"a","data-form":"ui-body-a"}).addClass("theme-body ui-body-a survey survey-"+config.guid);el.survey({config:config})}}}};_inq.push=function(element){_inq.queue.pushIfNotExist(element,function(e){return e.guid===element.guid})};for(var i=0;i<a.length;i++){_inq.push(a[i])}}})};if(typeof JSON=="undefined"){loadScript("//yandex.st/json2/2011-10-19/json2.min.js",function(){init()})}else{init()}})(jq)}})();var _gaq=_gaq||[];_gaq.push(["inqwise._setAccount","UA-2521304-12"]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();