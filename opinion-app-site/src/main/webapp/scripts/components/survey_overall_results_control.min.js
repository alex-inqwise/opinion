(function(a){a.fn.extend({dataChart:function(b){var d=a(this),c=a.extend({chartId:1,data:[]},b);function e(){d.empty();console.log("render chart"+c.chartId);switch(c.chartId){case 1:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false,type:"pie",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},tooltip:{pointFormat:"<b>{point.percentage:.2f}%</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},plotOptions:{pie:{cursor:"pointer",center:["50%","50%"],size:130,dataLabels:{enabled:false}}},series:[{name:"Brands",data:c.data}]});break;case 2:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false,type:"pie",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},tooltip:{pointFormat:"<b>{point.percentage:.2f}%</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},plotOptions:{pie:{cursor:"pointer",center:["50%","50%"],size:130,dataLabels:{enabled:false}}},series:[{name:"Brands",innerSize:70,data:c.data}]});console.log("Donut");break;case 3:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{type:"column",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},xAxis:{type:"category",labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},legend:{enabled:false},plotOptions:{series:{pointWidth:30,pointPadding:0,groupPadding:0,borderWidth:0,dataLabels:{enabled:true,format:"{point.y:.2f}%"}}},tooltip:{pointFormat:"<b>{point.y:.2f}%</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},series:[{name:"Brands",colorByPoint:true,data:c.data}]});break;case 4:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{type:"bar",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},xAxis:{type:"category",labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},legend:{enabled:false},plotOptions:{series:{pointWidth:30,pointPadding:0,groupPadding:0,borderWidth:0,dataLabels:{enabled:true,format:"{point.y:.2f}%"}}},tooltip:{pointFormat:"<b>{point.y:.2f}%</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},series:[{name:"Brands",colorByPoint:true,data:c.data}]});break;case 5:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{type:"bar",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},xAxis:{type:"category",labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},legend:{enabled:false},plotOptions:{series:{pointWidth:30,pointPadding:0,groupPadding:0,borderWidth:0,dataLabels:{enabled:true,format:"{point.y:.2f}%"},stacking:"percent"}},tooltip:{headerFormat:"<span>{series.name}</span><br>",pointFormat:"<b>{point.count} ({point.y:.2f}%)</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},series:[{name:"John",data:[{y:67,count:2}]},{name:"Jane",data:[{y:33,count:1}]}]});break;case 6:var f=getColors(c.data.length);d.highcharts({colors:f,chart:{type:"column",style:{fontFamily:"arial,sans-serif",fontSize:"12px"}},credits:{enabled:false},title:{text:null},subtitle:{text:null},xAxis:{type:"category",labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},yAxis:{min:0,title:{text:null},labels:{style:{fontFamily:"arial,sans-serif",fontSize:"12px"}}},legend:{enabled:false},plotOptions:{series:{pointWidth:30,pointPadding:0,groupPadding:0,borderWidth:0,dataLabels:{enabled:true,format:"{point.y:.2f}%"},stacking:"percent"}},tooltip:{headerFormat:"<span>{series.name}</span><br>",pointFormat:"<b>{point.count} ({point.y:.2f}%)</b>",style:{fontFamily:"arial,sans-serif",fontSize:"12px"},borderRadius:0},series:[{name:"John",data:[{y:50,count:1}]},{name:"Jane",data:[{y:50,count:1}]}]});break}}e()}})})(jQuery);jQuery.fn.resultControl=function(){if(arguments.length==0){return[]}var b=arguments[0]||{};var a=$(this);var c=function(j){var l=$('<div class="result-control-container"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr class="row-control-header"><td><b class="header-control-content"></b></td></tr><tr><td><div class="container-control-includes"></div></td></tr></table></div>');var i=$('<div class="result-control-container"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr class="row-control-header"><td><b class="label-control-number"></b><b class="label-control-mandatory" style="display: none;">*&nbsp;</b><b class="header-control-content"></b><a href="#" title="Customize" class="button-white button-control-customize"><span>Customize</span></a></td></tr><tr><td><div class="customize-control" style="display: none"><a class="button-horizontal-bar">Horizontal Bar</a><a class="button-vertical-bar">Vertical Bar</a><a class="button-stacked-horizontal-bar">Stacked Horizontal Bar</a><a class="button-stacked-vertical-bar">Stacked Vertical Bar</a><a class="button-pie-chart">Pie Chart</a><a class="button-donut-chart">Donut Chart</a><a class="button-line-graph">Line Graph</a><a class="button-area-graph">Area Graph</a></div><div><div class="chart-control" style="height: 186px; width: 450px; margin: 0 auto">CHART HERE</div></div></td></tr><tr><td><div class="container-control-includes"></div><div class="container-control-comment" style="display: none"><div class="label-control-comment"></div><div class="row-textarea"><div class="cell"><div class="tip"><div class="tip-top"></div><label class="tip-control-comment"></label></div></div></div></div></td></tr></table></div>');switch(j){case 1:break;case 2:var k=i;var h=k.find(".container-control-includes");var f=b.controlId;var e=function(){for(var v=0;v<response.controls.list.length;v++){if(response.controls.list[v].controlId==f){var A=response.controls.list[v];k.find(".header-control-content").html(A.content.replace(/\n/g,"<br/>"));if(A.isMandatory){k.find(".label-control-mandatory").show()}if(A.options.list.length!=0){var B=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');$('<tr class="row-header"><td class="first-item"><b>Answer Choices</b></td><td></td><td><b>Percent</b></td><td class="last-item"><b>Count</b></td></tr>').appendTo(B);var g=[];var o=null;for(var m=0;m<A.options.list.length;m++){if(A.options.list[m].optionKindId==0){var C,p;if(A.options.list[m].statistics!=null){p=A.options.list[m].statistics[A.controlId].count;C=Math.round(p/A.options.list[m].statistics[A.controlId].sum*100)}else{p=0;C=0}var n=$('<tr class="highlight-item row-result"><td><div class="row-choice '+(A.options.list[m].selectTypeId?"selected-item":"")+'">'+A.options.list[m].text+'</div><div class="container-additional-details-or-comments" style="display:'+(A.options.list[m].answerComment!=undefined?"block":"none")+'"><div class="row-desc">'+(A.options.list[m].additionalDetailsTitle!=undefined?A.options.list[m].additionalDetailsTitle:"Additional details or comments")+'</div><div class="row-details"><div class="tip"><div class="tip-top"></div><label>'+(A.options.list[m].answerComment!=undefined?A.options.list[m].answerComment:"")+'</label></div></div></div></td><td class="column-bar"><div class="outer-bar"><div class="bar" data-value="'+C+'"><div class="bar-inner"></div></div></div></td><td class="column-statistic"><span>'+(C!=0?(C).toFixed(2):"0.00")+'%</span></td><td class="last-item column-statistic"><span>'+p+"</span></td></tr>").appendTo(B);g.push({name:A.options.list[m].text,y:C})}if(A.options.list[m].optionKindId==1){o=A.options.list[m]}}if(o!=null){var C,p;if(o.statistics!=null){p=o.statistics[A.controlId].count;C=Math.round(p/o.statistics[A.controlId].sum*100)}else{p=0;C=0}var s=$('<tr class="highlight-item row-result"><td><div>'+(p!=0?'<a href="#" title="'+o.text+'" class="ui-icon-expand expand-responses">'+o.text+"</a>":"<span>"+o.text+"</span>")+'</div><ul class="related-responses" style="display: none"></ul></td><td class="column-bar"><div class="outer-bar"><div class="bar" data-value="'+C+'"><div class="bar-inner"></div></div></div></td><td class="column-statistic"><span>'+(C!=0?(C).toFixed(2):"0.00")+'%</span></td><td class="last-item column-statistic"><span>'+p+"</span></td></tr>").appendTo(B);g.push({name:o.text,y:C});var y=$('<tr><td colspan="4"><table cellspacing="0" cellpadding="0" style="width: 100%" class="table-related-responses"></table></td></tr>').appendTo(B);var w=false;var r=y.find(".table-related-responses");s.find(".expand-responses").click(function(t){if(!$(this).hasClass("ui-icon-collapse")){$(this).addClass("ui-icon-collapse");r.show();if(!w){getAnswererResultsText({accountId:accountId,opinionId:b.opinionId,optionId:o.optionId,success:function(x){for(var u=0;u<x.list.length;u++){$('<tr><td><a href="responses/'+x.list[u].sessionId+'" title="">'+x.list[u].text+"</a></td></tr>").appendTo(r)}w=true},error:function(u){}})}}else{$(this).removeClass("ui-icon-collapse");r.hide()}t.preventDefault()})}var q=k.find(".customize-control");k.find(".button-control-customize").click(function(t){t.preventDefault();if(q.is(":visible")){q.hide()}else{q.show()}});k.find(".button-horizontal-bar").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:4,data:g})});k.find(".button-vertical-bar").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:3,data:g})});k.find(".button-stacked-horizontal-bar").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:5,data:g})});k.find(".button-stacked-vertical-bar").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:6,data:g})});k.find(".button-pie-chart").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:1,data:g})});k.find(".button-donut-chart").click(function(t){t.preventDefault();k.find(".chart-control").dataChart({chartId:2,data:g})});k.find(".chart-control").dataChart({chartId:1,data:g});$('<tr class="row-answered"><td colspan="3"><b>Answered</b></td><td class="last-item"><b class="label-answered">'+A.answered+"</b></td></tr>").appendTo(B);$('<tr class="row-skipped"><td colspan="3"><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+A.skipped+"</b></td></tr>").appendTo(B);B.appendTo(h)}k.appendTo(a);break}}};e();break;case 3:var k=i;var h=k.find(".container-control-includes");var f=b.controlId;var e=function(){for(var g=0;g<response.controls.list.length;g++){if(response.controls.list[g].controlId==f){var m=response.controls.list[g];k.find(".header-control-content").html(m.content.replace(/\n/g,"<br/>"));if(m.isMandatory){k.find(".label-control-mandatory").show()}var o=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');$('<tr class="row-header"><td></td><td class="last-item"><b>Count</b></td></tr>').appendTo(o);var r=$('<tr class="highlight-item row-result"><td><div>'+(m.answered!=0?'<a href="#" title="Responses" class="ui-icon-expand expand-responses">Responses</a>':"")+'</div><ul class="related-responses" style="display: none"></ul></td><td class="last-item column-statistic"><span>'+m.answered+"</span></td></tr>").appendTo(o);var q=$('<tr><td colspan="2"><table cellspacing="0" cellpadding="0" style="width: 100%" class="table-related-responses"></table></td></tr>').appendTo(o);var p=false;var n=q.find(".table-related-responses");r.find(".expand-responses").click(function(s){if(!$(this).hasClass("ui-icon-collapse")){$(this).addClass("ui-icon-collapse");n.show();if(!p){getAnswererResultsText({accountId:accountId,opinionId:b.opinionId,controlId:m.controlId,success:function(u){for(var t=0;t<u.list.length;t++){$('<tr><td><a href="responses/'+u.list[t].sessionId+'" title="">'+u.list[t].text+"</a></td></tr>").appendTo(n)}p=true},error:function(t){}})}}else{$(this).removeClass("ui-icon-collapse");n.hide()}s.preventDefault()});$('<tr class="row-answered"><td><b>Answered</b></td><td class="last-item"><b class="label-answered">'+m.answered+"</b></td></tr>").appendTo(o);$('<tr class="row-skipped"><td><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+m.skipped+"</b></td></tr>").appendTo(o);o.appendTo(h);k.appendTo(a);break}}};e();break;case 4:var k=i;var h=k.find(".container-control-includes");var f=b.controlId;var e=function(){for(var p=0;p<response.controls.list.length;p++){if(response.controls.list[p].controlId==f){var r=response.controls.list[p];k.find(".header-control-content").html(r.content.replace(/\n/g,"<br/>"));if(r.isMandatory){k.find(".label-control-mandatory").show()}if(r.controls.list.length!=0){var m=1;var s=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');s.appendTo(h);var v=$('<tr class="row-header"></tr>');var B=$("<td>&nbsp;</td>");v.append(B);for(var o=0;o<r.options.list.length;o++){$("<td><b>"+r.options.list[o].text+"</b></td>").appendTo(v);m+=1}var F=$('<td class="last-item"><b>Total</b></td>');v.append(F);v.appendTo(s);for(var z=0;z<r.controls.list.length;z++){var A=$('<tr class="highlight-item row-result"></tr>');var g=$("<td>"+r.controls.list[z].content+"</td>");A.append(g);var H=0;for(var o=0;o<r.options.list.length;o++){var w=null;var C=r.options.list[o];var E=r.controls.list[z];var q,n;if(C.statistics!=null){if(C.statistics[r.controls.list[z].controlId]!=undefined){n=C.statistics[r.controls.list[z].controlId].count;q=Math.round(n/C.statistics[r.controls.list[z].controlId].sum*100)}else{n=0;q=0}}else{n=0;q=0}var G=$('<td class="statistic"><b>'+q+"%</b><br/><span>"+n+"</span></td>");A.append(G);H+=n}var D=$('<td class="last-item column-statistic"><b>&nbsp;</b><br/><span>'+H+"</span></td>");A.append(D);A.appendTo(s)}$('<tr class="row-answered"><td colspan="'+m+'"><b>Answered</b></td><td class="last-item"><b class="label-answered">'+r.answered+"</b></td></tr>").appendTo(s);$('<tr class="row-skipped"><td colspan="'+m+'"><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+r.skipped+"</b></td></tr>").appendTo(s)}k.appendTo(a);break}}};e();break;case 6:var k=i;var h=k.find(".container-control-includes");var f=b.controlId;var e=function(){for(var q=0;q<response.controls.list.length;q++){if(response.controls.list[q].controlId==f){var v=response.controls.list[q];k.find(".header-control-content").html(v.content.replace(/\n/g,"<br/>"));if(v.isMandatory){k.find(".label-control-mandatory").show()}var w=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');$('<tr class="row-header"><td></td><td class="last-item"><b>Count</b></td></tr>').appendTo(w);var p=$('<tr class="highlight-item row-result"><td><div>'+(v.answered!=0?'<a href="#" title="Responses" class="ui-icon-expand expand-responses">Responses</a>':"")+'</div><ul class="related-responses" style="display: none"></ul></td><td class="last-item column-statistic"><span>'+v.answered+"</span></td></tr>").appendTo(w);var s=$('<tr><td colspan="2"><table cellspacing="0" cellpadding="0" style="width: 100%" class="table-related-responses"></table></td></tr>').appendTo(w);var m=function(u){var t={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return t[u]};var g=function(t){var u={"-12.0":"(GMT -12:00) Eniwetok, Kwajalein","-11.0":"(GMT -11:00) Midway Island, Samoa","-10.0":"(GMT -10:00) Hawaii","-9.0":"(GMT -9:00) Alaska","-8.0":"(GMT -8:00) Pacific Time (US & Canada)","-7.0":"(GMT -7:00) Mountain Time (US & Canada)","-6.0":"(GMT -6:00) Central Time (US & Canada), Mexico City","-5.0":"(GMT -5:00) Eastern Time (US & Canada), Bogota, Lima","-4.0":"(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz","-3.5":"(GMT -3:30) Newfoundland","-3.0":"(GMT -3:00) Brazil, Buenos Aires, Georgetown","-2.0":"(GMT -2:00) Mid-Atlantic","-1.0":"(GMT -1:00 hour) Azores, Cape Verde Islands","0.0":"(GMT) Western Europe Time, London, Lisbon, Casablanca","1.0":"(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris","2.0":"(GMT +2:00) Kaliningrad, South Africa","3.0":"(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg","3.5":"(GMT +3:30) Tehran","4.0":"(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi","4.5":"(GMT +4:30) Kabul","5.0":"(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent","5.5":"(GMT +5:30) Bombay, Calcutta, Madras, New Delhi","5.75":"(GMT +5:45) Kathmandu","6.0":"(GMT +6:00) Almaty, Dhaka, Colombo","7.0":"(GMT +7:00) Bangkok, Hanoi, Jakarta","8.0":"(GMT +8:00) Beijing, Perth, Singapore, Hong Kong","9.0":"(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk","9.5":"(GMT +9:30) Adelaide, Darwin","10.0":"(GMT +10:00) Eastern Australia, Guam, Vladivostok","11.0":"(GMT +11:00) Magadan, Solomon Islands, New Caledonia","12.0":"(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka"};return u[t]};var n=function(t,x){switch(t){case 0:var u=JSON.parse(x);return(u.month!=undefined?m(u.month):"")+"/"+(u.day!=undefined?u.day:"");case 1:var u=JSON.parse(x);return(u.month!=undefined?m(u.month):"")+"/"+(u.day!=undefined?u.day:"")+"/"+(u.year!=undefined?u.year:"");case 2:var u=JSON.parse(x);return(u.month!=undefined?m(u.month):"")+"/"+(u.day!=undefined?u.day:"")+"/"+(u.year!=undefined?u.year:"")+" "+(u.hours!=undefined?u.hours:"")+":"+(u.minutes!=undefined?u.minutes:"");case 3:var u=JSON.parse(x);return(u.day!=undefined?u.day:"")+"/"+(u.month!=undefined?m(u.month):"");case 4:var u=JSON.parse(x);return(u.day!=undefined?u.day:"")+"/"+(u.month!=undefined?m(u.month):"")+"/"+(u.year!=undefined?u.year:"");case 5:var u=JSON.parse(x);return(u.day!=undefined?u.day:"")+"/"+(u.month!=undefined?m(u.month):"")+"/"+(u.year!=undefined?u.year:"")+" "+(u.hours!=undefined?u.hours:"")+":"+(u.minutes!=undefined?u.minutes:"");case 6:var u=JSON.parse(x);return(u.month!=undefined?m(u.month):"");case 7:var u=JSON.parse(x);return(u.day!=undefined?u.day:"");case 8:var u=JSON.parse(x);return(u.year!=undefined?u.year:"");case 9:var u=JSON.parse(x);return(u.hours!=undefined?u.hours:"")+":"+(u.minutes!=undefined?u.minutes:"");case 10:var u=JSON.parse(x);return(u.timeZone!=undefined?g(u.timeZone):"")}};var r=false;var o=s.find(".table-related-responses");p.find(".expand-responses").click(function(t){if(!$(this).hasClass("ui-icon-collapse")){$(this).addClass("ui-icon-collapse");o.show();if(!r){getAnswererResultsText({accountId:accountId,opinionId:b.opinionId,controlId:v.controlId,success:function(x){for(var u=0;u<x.list.length;u++){$('<tr><td><a href="responses/'+x.list[u].sessionId+'" title="">'+n(v.inputTypeId,x.list[u].text)+"</a></td></tr>").appendTo(o)}r=true},error:function(u){}})}}else{$(this).removeClass("ui-icon-collapse");o.hide()}t.preventDefault()});$('<tr class="row-answered"><td><b>Answered</b></td><td class="last-item"><b class="label-answered">'+v.answered+"</b></td></tr>").appendTo(w);$('<tr class="row-skipped"><td><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+v.skipped+"</b></td></tr>").appendTo(w);w.appendTo(h);k.appendTo(a);break}}};e();break;case 10:var k=i;var h=k.find(".container-control-includes");var f=b.controlId;var d=[5,7,9,0,3,4,5,6,7,8,9,10];var e=function(){for(var g=0;g<response.controls.list.length;g++){if(response.controls.list[g].controlId==f){var n=response.controls.list[g];k.find(".header-control-content").html(n.content.replace(/\n/g,"<br/>"));if(n.isMandatory){k.find(".label-control-mandatory").show()}var o=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');$('<tr class="row-header"><td></td><td></td><td><b>Percent</b></td><td class="last-item"><b>Count</b></td></tr>').appendTo(o);for(var r=n.fromScale;r<(d[n.toScale]+1);r++){var m,q;if(n.statistics[r]!=undefined){q=n.statistics[r].count;m=Math.round(q/n.statistics.sum*100)}else{q=0;m=0}var p=$('<tr class="highlight-item row-result"><td><div class="row-choice '+(n.answerValue!=undefined?(r==n.answerValue?"selected-item":""):"")+'">'+r+" "+(r==1?(n.fromScale!=null?(n.fromTitle!=null?n.fromTitle:""):""):(r==(d[n.toScale]))?(n.toScale!=null?(n.toTitle!=null?n.toTitle:""):""):"")+'</div></td><td class="column-bar"><div class="outer-bar"><div class="bar" data-value="'+m+'"><div class="bar-inner"></div></div></div></td><td class="column-statistic"><span>'+m+'%</span></td><td class="last-item column-statistic"><span>'+q+"</span></td></tr>").appendTo(o)}$('<tr class="row-answered"><td colspan="3"><b>Answered</b></td><td class="last-item"><b class="label-answered">'+n.answered+"</b></td></tr>").appendTo(o);$('<tr class="row-skipped"><td colspan="3"><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+n.skipped+"</b></td></tr>").appendTo(o);o.appendTo(h);k.appendTo(a);break}}};e();break;case 11:var k=l;var h=k.find(".container-control-includes");var f=b.controlId;var e=function(){for(var g=0;g<response.controls.list.length;g++){if(response.controls.list[g].controlId==f){var m=response.controls.list[g];k.find(".header-control-content").html("["+(m.key!=undefined?m.key:"undefined")+"]");var o=$('<table cellpadding="0" cellspacing="1" border="0" style="width: 100%"></table>');$('<tr class="row-header"><td></td><td class="last-item"><b>Count</b></td></tr>').appendTo(o);var r=$('<tr class="highlight-item row-result"><td><div>'+(m.answered!=0?'<a href="#" title="Responses" class="ui-icon-expand expand-responses">Responses</a>':"")+'</div><ul class="related-responses" style="display: none"></ul></td><td class="last-item column-statistic"><span>'+m.answered+"</span></td></tr>").appendTo(o);var q=$('<tr><td colspan="2"><table cellspacing="0" cellpadding="0" style="width: 100%" class="table-related-responses"></table></td></tr>').appendTo(o);var p=false;var n=q.find(".table-related-responses");r.find(".expand-responses").click(function(s){if(!$(this).hasClass("ui-icon-collapse")){$(this).addClass("ui-icon-collapse");n.show();if(!p){getAnswererResultsText({accountId:accountId,opinionId:b.opinionId,controlId:m.controlId,success:function(u){for(var t=0;t<u.list.length;t++){$('<tr><td><a href="responses/'+u.list[t].sessionId+'" title="">'+u.list[t].text+"</a></td></tr>").appendTo(n)}p=true},error:function(t){}})}}else{$(this).removeClass("ui-icon-collapse");n.hide()}s.preventDefault()});$('<tr class="row-answered"><td><b>Answered</b></td><td class="last-item"><b class="label-answered">'+m.answered+"</b></td></tr>").appendTo(o);$('<tr class="row-skipped"><td><b>Skipped</b></td><td class="last-item"><b class="label-skipped">'+m.skipped+"</b></td></tr>").appendTo(o);o.appendTo(h);k.appendTo(a);break}}};e();break}};c(b.controlTypeId)};