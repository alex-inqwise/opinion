<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title></title>
		<!-- <meta name="viewport" content="width=1024" /> -->
		<!-- <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=9" /> -->
		<meta name="author" content="Inqwise" />
		<meta name="robots" content="NOINDEX, NOFOLLOW" />
		<meta http-equiv="content-language" content="en" />

		
		
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/global.css" type="text/css" charset="utf-8" />
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/lightface/lightface.css" type="text/css" charset="utf-8" />
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/dialog/dialog.css" type="text/css" charset="utf-8" />
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/datepicker/datepicker.css" type="text/css" charset="utf-8" />
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/datatable/datatable.css" type="text/css" charset="utf-8" />
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/tipsy/tipsy.css" type="text/css" charset="utf-8" />
		
		
		<link rel="stylesheet" rev="stylesheet" href="/opinion-opinion-backoffice/css/minicolors/minicolors.css" type="text/css" charset="utf-8" />
		
		
		
		<!--[if gte IE 9]>
		  <style type="text/css">
		    .gradient {
		       filter: none;
		    }
		  </style>
		<![endif]-->
		

		<style type="text/css">
		html, body {
			background: #fff;
		}
		
		
		
		
		
		
		#quickswatch .colors {
		    Xmargin-top: -10px;
		    padding: 10px;
		}
		#quickswatch .colors .color-drag, #most-recent-colors .color-drag {
		    margin: 0 1px 1px 0;
		}
		.color-drag {
		    border: 1px solid #777777;
		    float: left;
		    height: 12px;
		    width: 12px;
		}
		
		#sliders { clear: both; }
		#sliders span {
		    float: left;
		    Xfont-size: 10px;
		    margin: 5px 15px 0 10px;
		}
		#lightness_slider {
		    float: left;
		    margin: 10px 10px 0 0;
		    width: 100px;
		}
		
		#saturation_slider {
		    float: left;
		    margin-top: 10px;
		    width: 100px;
		}
		
		
		
		
		input.colorwell {
		    width: 53px;
		}
		input.number {
		    width: 30px;
		}
		
		
		/* background */
		#background_slider {
			width: 100px;
			Xfloat: left;
		}
		
		
		
		.ui-slider{
			position:relative;
			text-align:left;
			border: 1px solid;
			border-color: #666666 #CCCCCC #CCCCCC;
			background-color: #f8f8f8;
		}
		.ui-slider .ui-slider-handle{
			position:absolute;
			z-index:2;
			width:14px;
			height:24px;
			cursor:default;
			background: url(../images/bg_slider_handle.png) no-repeat scroll 0 0;
		}
		.ui-slider .ui-slider-range{
			position:absolute;
			z-index:1;
			font-size:.7em;
			display:block;
			border:0;
			background-position:0 0;
			background: #e5e5e5;	
		}
		.ui-slider-horizontal{height:6px;}
		.ui-slider-horizontal .ui-slider-handle{
			top:-10px;
			margin-left:-.6em;
		}
		.ui-slider-horizontal .ui-slider-range{top:0;height:100%}
		.ui-slider-horizontal .ui-slider-range-min{left:0}
		.ui-slider-horizontal .ui-slider-range-max{right:0}
		.ui-slider-vertical{width:.8em;height:100px}
		.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}
		.ui-slider-vertical .ui-slider-range{left:0;width:100%}
		.ui-slider-vertical .ui-slider-range-min{bottom:0}
		.ui-slider-vertical .ui-slider-range-max{top:0}
		
		
		
		
		.demographic { clear: both; }
		.demographic-min { float: left; height: 16px; padding-right: 6px; color: #333 }
		.demographic-bar {
			height: 16px;
			float: left;
			width: 100px;
		}
		.demographic-bar .bar-inner {
		
			width: 100px;
			height: 16px;
		
			background-color: #8fbf27;
			
			/* IE9 SVG, needs conditional override of 'filter' to 'none' */
			background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzhmYmYyNyIgc3RvcC1vcGFjaXR5PSIwLjEiLz4KICAgIDxzdG9wIG9mZnNldD0iMSUiIHN0b3AtY29sb3I9IiM4ZmJmMjciIHN0b3Atb3BhY2l0eT0iMC4xIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM4ZmJmMjciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
			background: -moz-linear-gradient(left,  rgba(143,191,39,0.1) 0%, rgba(143,191,39,0.1) 1%, rgba(143,191,39,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(143,191,39,0.1)), color-stop(1%,rgba(143,191,39,0.1)), color-stop(100%,rgba(143,191,39,1))); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(left,  rgba(143,191,39,0.1) 0%,rgba(143,191,39,0.1) 1%,rgba(143,191,39,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(left,  rgba(143,191,39,0.1) 0%,rgba(143,191,39,0.1) 1%,rgba(143,191,39,1) 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(left,  rgba(143,191,39,0.1) 0%,rgba(143,191,39,0.1) 1%,rgba(143,191,39,1) 100%); /* IE10+ */
			background: linear-gradient(to right,  rgba(143,191,39,0.1) 0%,rgba(143,191,39,0.1) 1%,rgba(143,191,39,1) 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1a8fbf27', endColorstr='#8fbf27',GradientType=1 ); /* IE6-8 */
			
		}
		.demographic-bar .bar-colors {
			width: 100px;
			height: 16px;
		}
		.demographic-bar .bar-colors .color {
			width: 10px;
			height: 16px;
			float: left;
		}
		.demographic-max { float: left; height: 16px; padding-left: 6px; color: #333; }
		
		
		</style>
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
		
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/utils/utils.js" charset="utf-8"></script>
		
		<!--[if lt IE 8]>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/utils/json2.js" charset="utf-8"></script>
		<![endif]-->
		
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/utils/date.min.js" charset="utf-8"></script>
		
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/validator/validator-1.2.8.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/lightface/lightface.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/lightdialog/lightdialog.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/lightloader/1.0.1/lightloader.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/datatable/datatable.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/tipsy/tipsy.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/input/input.min.js" charset="utf-8"></script>
		
		
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/color/color.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/minicolors/minicolors.js" charset="utf-8"></script>
		
		
	</head>
	<body>
	
		<div style="padding: 10px;">
		
			<div>
				<h1 id="label_survey_name" style="float: left">Test</h1><a href="javascript:;" id="link_rename_survey_name" title="Rename" style="float: left; margin-left: 6px; margin-top: -3px;">Rename</a>
			</div>
			
		
			 
			<div class="dialog" style="top: 100px; right: 100px">
				<div class="dialog-overlay">
					<div class="dialog-content">
						<h2>Set Inqwise as Your Homepage</h2>
						<div>
							Fewer clicks, faster access.
							<div class="instructions">
								<a title="Drag me" href="http://www.inqwise.com/" onclick="return false;"><img width="32" height="32" alt="" src="http://www.inqwise.com/icons/32x32.png" class="instructions-icon" /><span class="hidden">Inqwise</span></a>
								<div class="instructions-content">Drag this image up to the home button in your Firefox toolbar.</div>
							</div>
						</div>
					</div>
					<div class="dialog-actions">
						<a class="button-white"><span>Close</span></a>
					</div>
				</div>
				<i class="dialog-arrow"></i>
			</div>
			
			
			
		
			<div style="clear: both;">
				<div id="table_collectors"></div>
			</div>
			
			<div style="width: 220px;">
				<h3 class="ui-header">Use Short URL</h3>
				<div style="padding: 12px 0 0 8px;">
					<div>You can enable this option at any time when you need to get a Short URL of your survey by changing the checkbox below.</div>
					<div style="padding-top: 12px;"><label><input type="checkbox" autocomplete="off" id="checkbox_use_short_url" />Use Short URL</label></div>
				</div>
			</div>
			
			
			
			<br/>
			<br/>
			<br/>
			
			
			
			
			
			<div id="quickswatch">
				<h2>Drag a color onto an element below</h2>
				<div class="colors">
					<div class="color-drag" style="background-color: #FFFFFF"></div>
					<div class="color-drag" style="background-color: #F2F2F2"></div>
					<div class="color-drag" style="background-color: #E6E6E6"></div>
					<div class="color-drag" style="background-color: #CCCCCC"></div>
					<div class="color-drag" style="background-color: #808080"></div>
					<div class="color-drag" style="background-color: #4D4D4D"></div>
					<div class="color-drag" style="background-color: #000000"></div>
					<div class="color-drag" style="background-color: #C1272D"></div>
					<div class="color-drag" style="background-color: #ED1C24"></div>
					<div class="color-drag" style="background-color: #F7931E"></div>
					<div class="color-drag" style="background-color: #FFCC33"></div>
					<div class="color-drag" style="background-color: #FCEE21"></div>
					<div class="color-drag" style="background-color: #D9E021"></div>
					<div class="color-drag" style="background-color: #8CC63F"></div>
					<div class="color-drag" style="background-color: #009245"></div>
					<div class="color-drag" style="background-color: #006837"></div>
					<div class="color-drag" style="background-color: #00A99D"></div>
					<div class="color-drag" style="background-color: #33CCCC"></div>
					<div class="color-drag" style="background-color: #33CCFF"></div>
					<div class="color-drag" style="background-color: #29ABE2"></div>
					<div class="color-drag" style="background-color: #0071BC"></div>
					<div class="color-drag" style="background-color: #2E3192"></div>
					<div class="color-drag" style="background-color: #662D91"></div>
					<div class="color-drag" style="background-color: #93278F"></div>
					<div class="color-drag" style="background-color: #D4145A"></div>
					<div class="color-drag" style="background-color: #ED1E79"></div>
					<div class="color-drag" style="background-color: #C7B299"></div>
					<div class="color-drag" style="background-color: #736357"></div>
					<div class="color-drag" style="background-color: #C69C6D"></div>
					<div class="color-drag" style="background-color: #8C6239"></div>
					<div class="color-drag" style="background-color: #603813"></div>
				</div>
				<div id="sliders">
					<span>LIGHTNESS</span><div id="lightness_slider"></div>
					<span>SATURATION</span><div id="saturation_slider"></div>
				</div>
			</div>
			
			
			
			<div style="clear: both; padding-top: 24px">
				<div>
					<label class="first">TEXT COLOR</label>
					<input type="text" class="colorwell ui-droppable" autocomplete="off" />
				</div>
				<div>
					<label class="first">TEXT SHADOW</label>
					<input type="text" value="0" class="number" autocomplete="off" />
					<input type="text" value="1px" class="number" autocomplete="off" />
					<input type="text" value="0" class="number" autocomplete="off" />
					<input type="text" class="colorwell ui-droppable" autocomplete="off" value="#d9e021" />
				</div>
				<div>
					<label class="first" style="float: left">BACKGROUND</label>
					<input type="text" class="colorwell ui-droppable background" id="background_color" autocomplete="off" />
					<div id="background_slider" class="background" style="float: left"></div>
				</div>
				<div style="clear: both;">
					<label class="first">START</label>
					<input type="text" class="colorwell ui-droppable" id="background_color_start" autocomplete="off" />
					<label>END</label>
					<input type="text" class="colorwell ui-droppable" id="background_color_end" autocomplete="off" />
				</div>
			</div>
			
			
			<br/>
			<br/>
			<br/>
			<label class="first">COLORPICKER TEST</label><input type="text" class="colorwell ui-droppable" autocomplete="off" />&nbsp;<input type="text" class="colorwell ui-droppable" id="background_color_test" autocomplete="off" />
			
			
			
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			COLOR: 
			<input type="text" class="colorwell ui-droppable" autocomplete="off" />
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<div id="section_preview">
				<div>
					<h1 class="header-theme-default">Header</h1>
				</div>
			</div>
			
			
			
			
			
			
			<br/>
			<br/>
			<br/>
			
			<div>
				<input type="text" id="text_total" />
			</div>
			
			
			<label id="label_total"></label>
			
			
			
			
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			
			
			<div style="clear: both;">
				Countries: 4<br/>
				Started : 39<br/>
				Viewed: 352<br/>
				Completed : 36<br/>
				Partial (Incomplete/Drop out): 3<br/>
				Completion Rate: 92.31%<br/>
				Avg. Time Taken: 3 mins
			</div>
			<div style="clear: both;">
				<div>Countries</div>
				<div id="svg"></div>
				<div>
				
					<!--
					<form id="latlon-form">
						<input id="latlon" value="33°51′35.9″S, 151°12′40″E" />
						<a href="javascript:;" class="button-blue" id="button_find"><span>Find</span></a>
					</form>
					<ol id="cities">
						<li><a href="#2° 0' 0&quot; S, 77° 30' 0&quot; W">Ecuador</a></li>
						<li><a href="#22 20 N 114 11 E">Hong Kong</a></li>
						<li><a href="#26° 12' 0&quot; S  28° 5' 0&quot; E">Johannesburg</a></li>
						<li><a href="#55 45 N 37 36 E">Moscow</a></li>
						<li><a href="#40° 45' 21″N 73° 59' 11″W">New York</a></li>
						<li><a href="#48 48 N 2 20 E">Paris</a></li>
						<li><a href="#22 57 S 43 12 W">Rio de Janeiro</a></li>
						<li><a href="#37° N 122° W">San Francisco</a></li>
						<li><a href="#33°51′35.9″S, 151°12′40″E">Sydney</a></li>
						<li><a href="#35 40 N 139 45 E">Tokyo</a></li>
						<li><a href="#48 14 N, 16 20 E">Vienna</a></li>
					</ol>
					-->
					
				</div>
				
				<div class="demographic">
					<div class="demographic-min">0</div>
					<div class="demographic-bar">
						<div class="bar-inner"></div>
						<div class="bar-colors"></div>
					</div>
					<div class="demographic-max">0</div>
				</div>
				
				
				<div style="clear: both; padding-top: 24px;">
					<ul id="list_countries"></ul>
				</div>
				
			</div>
			
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			
			
			
		</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/raphael/raphael.js" charset="utf-8"></script>
		<script type="text/javascript" src="/opinion-opinion-backoffice/scripts/raphael/countries.js" charset="utf-8"></script>
		<!-- <script type="text/javascript" src="/opinion-opinion-backoffice/scripts/raphael/countries910x510.js" charset="utf-8"></script> -->
		
		
		
		
		
		
		
		
		<!--
		<script type="text/javascript" src="http://localhost:8080/opinion-opinion-backoffice/scripts/raphael/worldmap.js" charset="utf-8"></script>
		
		<div id="svg"></div>
		<form id="latlon-form">
            <input id="latlon" value="33°51′35.9″S, 151°12′40″E" />
            <button type="submit">Find</button>
        </form>
        <ol id="cities">
            <li><a href="#22 20 N 114 11 E">Hong Kong</a></li>
            <li><a href="#26° 12' 0&quot; S  28° 5' 0&quot; E">Johannesburg</a></li>
            <li><a href="#55 45 N 37 36 E">Moscow</a></li>
            <li><a href="#40° 45' 21″N 73° 59' 11″W">New York</a></li>
            <li><a href="#48 48 N 2 20 E">Paris</a></li>
            <li><a href="#22 57 S 43 12 W">Rio de Janeiro</a></li>
            <li><a href="#37° N 122° W">San Francisco</a></li>
            <li><a href="#33°51′35.9″S, 151°12′40″E">Sydney</a></li>
            <li><a href="#35 40 N 139 45 E">Tokyo</a></li>
            <li><a href="#48 14 N, 16 20 E">Vienna</a></li>
        </ol>
        
		<script type="text/javascript">
		
            Raphael(10, 10, 1000, 400, function () {
                
            	var r = this;
                r.rect(0, 0, 1000, 400, 10).attr({
                    stroke: "none",
                    fill: "0-#9bb7cb-#adc8da"
                });
                var over = function () {
                    this.c = this.c || this.attr("fill");
                    this.stop().animate({fill: "#bacabd"}, 500);
                },
                    out = function () {
                        this.stop().animate({fill: this.c}, 500);
                    };
                r.setStart();
                var hue = Math.random();
                for (var country in worldmap.shapes) {
                    // var c = Raphael.hsb(Math.random(), .5, .75);
                    // var c = Raphael.hsb(.11, .5, Math.random() * .25 - .25 + .75);
                    r.path(worldmap.shapes[country]).attr({stroke: "#ccc6ae", fill: "#f0efeb", "stroke-opacity": 0.25});
                }
                var world = r.setFinish();
                world.hover(over, out);
                // world.animate({fill: "#666", stroke: "#666"}, 2000);
                world.getXY = function (lat, lon) {
                    return {
                        cx: lon * 2.6938 + 465.4,
                        cy: lat * -2.6938 + 227.066
                    };
                };
                world.getLatLon = function (x, y) {
                    return {
                        lat: (y - 227.066) / -2.6938,
                        lon: (x - 465.4) / 2.6938
                    };
                };
                var latlonrg = /(\d+(?:\.\d+)?)[\xb0\s]?\s*(?:(\d+(?:\.\d+)?)['\u2019\u2032\s])?\s*(?:(\d+(?:\.\d+)?)["\u201d\u2033\s])?\s*([SNEW])?/i;
                world.parseLatLon = function (latlon) {
                    var m = String(latlon).split(latlonrg),
                        lat = m && +m[1] + (m[2] || 0) / 60 + (m[3] || 0) / 3600;
                    if (m[4].toUpperCase() == "S") {
                        lat = -lat;
                    }
                    var lon = m && +m[6] + (m[7] || 0) / 60 + (m[8] || 0) / 3600;
                    if (m[9].toUpperCase() == "W") {
                        lon = -lon;
                    }
                    return this.getXY(lat, lon);
                };

                try {
                    navigator.geolocation && navigator.geolocation.getCurrentPosition(function (pos) {
                        r.circle().attr({fill: "none", stroke: "#f00", r: 5}).attr(world.getXY(pos.coords.latitude, pos.coords.longitude));
                    });
                } catch (e) {}
                var frm = document.getElementById("latlon-form"),
                    dot = r.circle().attr({fill: "r#FE7727:50-#F57124:100", stroke: "#fff", "stroke-width": 2, r: 0}),
                    // dot2 = r.circle().attr({stroke: "#000", r: 0}),
                    ll = document.getElementById("latlon"),
                    cities = document.getElementById("cities");
                frm.onsubmit = function () {
                    var attr = world.parseLatLon(ll.value);
                    attr.r = 0;
                    dot.stop().attr(attr).animate({r: 5}, 1000, "elastic");
                    // dot2.stop().attr(attr).animate({r: 10}, 1000, "elastic");
                    return false;
                };
                cities.onclick = function (e) {
                    e = e || window.event;
                    var target = e.target || e.srcElement || document;
                    if (target.tagName == "A") {
                        var txt = decodeURIComponent(target.href.substring(target.href.indexOf("#") + 1)),
                            attr = world.parseLatLon(txt);
                        ll.value = txt;
                        attr.r = 0;
                        dot.stop().attr(attr).animate({r: 5}, 1000, "elastic");
                        // dot2.stop().attr(attr).animate({r: 10}, 1000, "elastic");
                        return false;
                    }
                };
                
                
            });
        </script>
		-->
		
		
		
		
		
		
		
		
		
		
		
		
		
	
		<script type="text/javascript">
		
		
		
		
		
		
		
		var getCollectorType = function(typeId) {
			var s = "";
			switch(typeId) {
				case 1 :
					s = "Direct link";
					break;
				case 2 : 
					s = "CINT panel";
					break;
			}
			return s;
		};

		var getCollectorStatus = function(statusId) {
			var s = "";
			switch(statusId) {
				case 1 :
					s = "Open";
					break;
				case 2 : 
					s = "Closed";
					break;
				case 3 :
					s = "Awaiting payment";
					break;
				case 4 : 
					s = "Panel is being verified";
					break;
				case 5 :
					s = "The panel is live";
					break;
				case 6 : 
					s = "Panel has been completed";
					break;
				case 7 : 
					s = "Pending"; // Hold
					break;
				case 8 : 
					s = "Canceled";
					break;
			}
			return s;
		};
		
		var tableCollectors = null;
		var collectors = [];
		var renderTableCollectors = function() {
			
			$('#table_collectors').empty();
			tableCollectors = $('#table_collectors').dataTable({
				tableColumns : [
					{ key : 'collectorId', label : '#', sortable : true, width: 46, style : { header: { 'text-align' : 'right' }, cell : { 'text-align' : 'right' } } },
					{ key : 'collectorId', label : '', width: 12, formatter : function(cell, value, record, source) {
						return $("<a href=\"#\" title=\"Preview\" class=\"row-button\"><i class=\"row-icon-preview\">&nbsp;</i></a>").tipsy({
							gravity: 'sw', 
							title: function() { 
								return this.getAttribute('original-title'); 
							}
						});
					}},
					{ key : 'name', label : 'Name', sortable : true, formatter: function(cell, value, record, source) {
						return $("<a href=\"/account-collector-details?account_id=3&collector_id=" + record.collectorId + "\" title=\"" + record.name + "\">" + record.name + "</a>");
					}},
					{ key : 'sourceTypeId', label : 'Type', sortable : true, width: 140, formatter: function(cell, value, record, source) {
						return getCollectorType(record.sourceTypeId);	
					}},
					{ key : 'statusId', label : 'Status', sortable : true, width: 140, formatter: function(cell, value, record, source) {
						return getCollectorStatus(record.statusId);	
					}},
					{ key : 'startedResponses', label : '# of responses', sortable : true, sortBy : { dataType: "number" }, width : 98, style : { header: { 'text-align' : 'right' }, cell : { 'text-align' : 'right' } } },
					{ key : 'lastResponseDate', label : 'Last Response Date', sortable : true, sortBy : { dataType: "date" }, width: 124, formatter: function(cell, value, record, source) {
						if(record.lastResponseDate) {
							var left = record.lastResponseDate.substring(record.lastResponseDate.lastIndexOf(" "), " ");
							var right = record.lastResponseDate.replace(left, "");
							return left + "<b class=\"hours\">" + right + "</b>";
						} 
		            }},
		            { key : 'label', label : 'Label', sortable : true, width: 60, formatter: function(cell, value, record, source) {
						return "--"; // getCollectorStatus(record.statusId);	
					}}
				],
				dataSource : collectors, 
				pagingStart : 5,
				show : [5, 10, 25, 50, 100],
				selectable : true,
				select : function(records, source) {
					
					/*
					for (var t = 0; t < actions.length; t++) {
						if(actions[t].disabled) {
							
						}
					}
					*/
					
					//alert(records.length);
					
					/*
					if(records.length == 1) {
						// alert("ENABLE ->>>> " + JSON.stringify(records));
						$('#button_copy').removeClass('ui-button-disabled');
					} else {
						if(!$('#button_copy').hasClass('ui-button-disabled'))
							$('#button_copy').addClass('ui-button-disabled');
					}
					*/
					
					
				},
				actions : [
					{ 
						label : "Delete", 
						disabled : true,
						fire : function(records, source) {
							if(records.length > 0) {
								
								var list = [];
								$(records).each(function(index) {
									list.push(records[index].collectorId);
								});
								
								/*
								deleteCollectors({
									list : list,
									success : function() {
										tableCollectors.deleteRecords(records);
									}
								});
								*/
								
								tableCollectors.deleteRecords(records);
								
							}
						}
					},
					{ 
						label : "Test 1", 
						disabled : true,
						condition : 1, // condition
						fire : function(records, source) {
							
							alert("CLICK");
							
						}
					},
					{ 
						label : "Merge Into",
						disabled : true,
						pop : function() {
							
							return "Test";
							
						}
					},
					{
						label : "Make a payment",
						color: "blue",
						fire : function() {
							//location.href = "<%=absoluteURL %>/account-make-payment?account_id=<%=accountId %>";
							
							alert("REDIRECT")
							
						}
					}
				]
			});
			
		};
		
		
		
		
		
		
		
		
		
		
		
		
		
		//pad a string with zeroes to a certain length
		var padNumber = function( n, len ) {
		    var str = '' + n;
		    while (str.length < len) {
		        str = '0' + str;
		    }
		    return str;
		}
		
		
		//pass in a color and a slider value and get back a tuple with start and end colors
		//of a gradient - the slider value is a number between 0 and 100
		//greater than 50 -> convex gradient, less than 50 -> concave
		var computeGradient = function( color, slider_value ) {
		    var color_arr = color.split( "" );

		    var red = parseInt( (color_arr[1] + color_arr[2]), 16 );
		    var green = parseInt( (color_arr[3] + color_arr[4]), 16 );
		    var blue = parseInt( (color_arr[5] + color_arr[6]), 16 );

		    var convex, red_start, green_start, blue_start, percent;
		        
		    if( slider_value >= 40 ) {
		        convex = 1;
		        percent = 1 + ( slider_value - 40 ) / 100;
		    } else {
		        convex = 0;
		        percent = 1 + ( 40 - slider_value ) / 100;
		    }
		    if( percent * red > 255 ) {
		        red_start = "FF";
		    } else {
		        red_start = padNumber( Math.floor(percent * red).toString( 16 ), 2 );
		    }
		    if( percent * green > 255 ) {
		        green_start = "FF";
		    } else {
		        green_start = padNumber( Math.floor(percent * green).toString( 16 ), 2 );
		    }
		    if( percent * blue > 255 ) {
		        blue_start = "FF";
		    } else {
		        blue_start = padNumber( Math.floor(percent * blue).toString( 16 ), 2 );
		    }

		    if( convex ) {
		        percent = ( 100 - (slider_value - 40) ) / 100;
		    } else {
		        percent = ( 100 - (40 - slider_value) ) / 100;
		    }

		    var red_end = padNumber( Math.floor(percent * red).toString( 16 ), 2 );
		    var green_end = padNumber( Math.floor(percent * green).toString( 16 ), 2 );
		    var blue_end = padNumber( Math.floor(percent * blue).toString( 16 ), 2 );

		    var start, end;
		    if( convex ) {
		        start = "#" + red_start + "" + green_start + "" + blue_start + "";
		        end = "#" + red_end + "" + green_end + "" + blue_end + "";
		    } else {
		        start = "#" + red_end + "" + green_end + "" + blue_end + "";
		        end = "#" + red_start + "" + green_start + "" + blue_start + "";
		    }
		    return [start, end];
		}
		
		
		
		
		
		var colors = [];
		var hexDigits = new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");
		
		// function to convert hex format to a rgba color
		var rgbatohex = function(rgba) {
		    rgba = rgba.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)$/);
		    return "#" + hex(rgba[1]) + hex(rgba[2]) + hex(rgba[3]);
		}
		
		var rgbtohex = function(rgb) {
			/*
			rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
			return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
			*/
			
			if (rgb.search("rgb") == -1){
		        return rgb;
			} else {
		        rgb = rgb.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);
		        function hex(x) {
		             return ("0" + parseInt(x).toString(16)).slice(-2);
		        }
		        return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]); 
			}

		}
		
		// function to get opacity from rgba
		var rgbaOpacity = function(rgba) {
		    rgba = rgba.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)$/);
		    return rgba[4];
		}
		
		function hex(x) {
			return isNaN(x) ? "00" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];
		}
		
		var movingColor = 0;
		
		
		
		
		// -->>
		var consoleTimeout;
		
		
		
		
		
		
		
		
		
		
		
		
		
		var demographicColors = ["#f2f7e6","#e6f1ce","#dbeab9","#d1e5a6","#c7df92","#beda80","#b2d36b","#a7cd56","#9ec844","#8fbf27"];
		
		var data = {
			countries : [
				{ country : "russia", count: 8 },
				{ country : "mexico", count: 1 },
				{ country : "india", count: 12 },
				{ country : "estonia", count: 3 },
				{ country : "usa", count: 7 },
				{ country : "australia", count: 9 },
				{ country : "israel", count: 0 },
			],
			max : 12,
			total : 31
		};
		
		// Math.round(1 / 39 * 100)
		
		
		var findCountry = function(country) {
			for(var i = 0; i < data.countries.length; i++) {
				if(data.countries[i].country == country) {
					return data.countries[i]; 
				}
			}
			return null;
		};
		
		$(function() {
			
			
			// look and feel
			var quickswatch = $( "#quickswatch" );
		    quickswatch.find( ".color-drag:not(.disabled)" ).each(function() {
		    	colors.push( rgbtohex($(this).css("background-color")) );
			});
    
		    
		  	// lightness and saturation sliders
			$( "#lightness_slider" ).slider({
				width: 100,
				max: 50,
				min: -40,
			});
			
			$( "#saturation_slider" ).slider({
				width: 100,
				value: 0,
				min: -100,
				max: 100,
			});
			
			$( "#saturation_slider" ).bind("slide", function() {
				var sat_val = $( this ).slider( "value" );
				var sat_percent = sat_val / 100;	
				if( sat_percent >= 0 ) {
					var sat_str = "+=";
				} else {
					var sat_str = "-=";
					sat_percent = sat_percent - (2 * sat_percent);
				}
				
				var lit_val = $( "#lightness_slider" ).slider( "value" );
				var lit_percent = lit_val / 100;	
				if( lit_percent >= 0 ) {
					var lit_str = "+=";
				} else {
					var lit_str = "-=";
					lit_percent = lit_percent - (2 * lit_percent);
				}
				
				
				for( var i = 1; i< colors.length; i++ ) {
					var orig = $.Color( colors[i] );
					quickswatch.find( ".color-drag:nth-child(" + (i + 1) + ")" )
						.css("background-color", orig.saturation(sat_str + sat_percent).lightness(lit_str + lit_percent) );
				}
			});
			
			$( "#lightness_slider" ).bind("slide", function() {
				var sat_val = $( "#saturation_slider" ).slider( "value" );
				var sat_percent = sat_val / 100;	
				if( sat_percent >= 0 ) {
					var sat_str = "+=";
				} else {
					var sat_str = "-=";
					sat_percent = sat_percent - (2 * sat_percent);
				}
				
				var lit_val = $( this ).slider( "value" );
				var lit_percent = lit_val / 100;	
				if( lit_percent >= 0 ) {
					var lit_str = "+=";
				} else {
					var lit_str = "-=";
					lit_percent = lit_percent - (2 * lit_percent);
				}
				
				for( var i = 1; i < colors.length; i++ ) {
					var orig = $.Color( colors[i] );
					quickswatch.find( ".color-drag:nth-child(" + (i + 1) + ")" )
						.css("background-color", orig.saturation(sat_str + sat_percent).lightness(lit_str + lit_percent) );
				}
			});
			
			
			
			
			
			
			//draggable colors
		    $( ".color-drag" ).draggable({
		        appendTo: "body",
		        revert: true,
		        revertDuration: 200,
		        opacity: 1,
		        containment: "document",
		        cursor: "move",
		        helper: "clone",
		        zIndex: 3000,
		        iframeFix: true,
		        drag: function() {
		            movingColor = 1;
		        }
		    });
			
		    $( ".color-drag.disabled" ).draggable( "disable" );
			
		    
		    
		    
		    //droppable for colorwell
		    $( ".colorwell" ).droppable({
		        accept: ".color-drag",
		        hoverClass: "hover",
		        drop: function() {
		            var $this = $( this );
		            var color = $(".ui-draggable-dragging").css("background-color");
		            if( color != "transparent" ) {
		                color = rgbtohex( color );
		            }
		            $( ".ui-draggable .ui-draggable-dragging" ).trigger( "drop" );
		            $this.val( color ).css( "background-color", color );
		            $this.trigger( "change" );
		            
		        }
		    });
		    
		    
		    
		    
		    
		    
		    
		    
		    
		    
		    // Styling
		    // BACKGROUND
		    $("#background_slider").slider({
		    	max : 80, 
		        value: 40
		    });
		    
		    
		    
		    $('.background').bind("blur slide mouseup change keyup", function(event, slider) {
		    
			    var color = $("#background_color").val(); //$("input[data-type=background][data-name|=" + prefix + "]" ).val();
			    var slider_value = $("#background_slider").slider( "value" );
				
				var start_end = computeGradient(color, slider_value);
	            var start = start_end[0];
	            var end = start_end[1];
	
	            
	            $("#background_color_start").val(start).css( "background-color", start );
	            $("#background_color_end").val(end).css( "background-color", end );
	            
	            /*
	            $( "[data-type=start][data-name=" + prefix + "-background-start]" ).val( start ).css( "background-color", start );
	            $( "[data-type=end][data-name=" + prefix + "-background-end]" ).val( end ).css( "background-color", end );
				*/
				
				
				// update css
				
		    
		    });
		    
		    
		    
		    
		    
		    
		    $('.colorwell').each( function() {
		    	
		    	$(this).minicolors({
		    		change : function(hex, opacity) {
		    			/*
		    			text = hex ? hex : 'transparent';
	                    if( opacity ) text += ', ' + opacity;
	                    text += ' / ' + $(this).minicolors('rgbaString');
	                    
	                    alert(text);
	                    */
		    		}
		    	});
		    	
		    });
		    
		    
		    
		    
		    
		    /*
		    $('#background_color_test').val("#d9e021").minicolors({
                control: $(this).attr('data-control') || 'hue',
                defaultValue: $(this).attr('data-default-value') || '',
                inline: $(this).hasClass('inline'),
                letterCase: $(this).hasClass('uppercase') ? 'uppercase' : 'lowercase',
                opacity: $(this).hasClass('opacity'),
                position: $(this).attr('data-position') || 'default',
                styles: $(this).attr('data-style') || '',
                swatchPosition: $(this).attr('data-swatch-position') || 'left',
                textfield: !$(this).hasClass('no-textfield'),
                theme: $(this).attr('data-theme') || 'default',
                change: function(hex, opacity) {
                    
                	
                    // Generate text to show in console
                    text = hex ? hex : 'transparent';
                    if( opacity ) text += ', ' + opacity;
                    text += ' / ' + $(this).minicolors('rgbaString');
                    
                    // Show text in console; disappear after a few seconds
                    $('#console').text(text).addClass('busy');
                    clearTimeout(consoleTimeout);
                    consoleTimeout = setTimeout( function() {
                        $('#console').removeClass('busy');
                    }, 3000);
                    
                    
                }
            });
		    */
		    
		    
		    
		    
		    
		    
		    
		    
		    
			
			
			
			
		    
		    
		    
		    
    

			
			collectors = [
				{"statusId":1,"guid":"c7381a45-958b-4860-b60d-d2c725b7501d","opinionName":"ddd","startedResponses":0,"accountId":94,"sourceTypeId":1,"name":"Default collector","collectorId":230,"modifyDate":"Nov 11, 2012","createDate":"Nov 06, 2012","opinionId":170},
				{"startedResponses":0,"accountId":94,"expirationDate":"Oct 03, 2012","sourceTypeId":2,"modifyDate":"Nov 10, 2012","opinionId":163,"sourceId":2,"guid":"77adf51d-d5c2-4d67-81d0-96e8a5a2783c","statusId":3,"opinionName":"Test drive CINT","sourceName":"CINT panel","name":"Template","collectorId":216,"createDate":"Oct 01, 2012"},
				{"startedResponses":0,"accountId":94,"expirationDate":"Sep 30, 2012","sourceTypeId":2,"modifyDate":"Sep 28, 2012","opinionId":163,"sourceId":2,"guid":"0b5f3f77-397e-42c1-8447-6c70e557b83e","statusId":3,"opinionName":"Test drive CINT","sourceName":"CINT panel","name":"Test drive for CINT collector","collectorId":215,"createDate":"Sep 28, 2012", "balance" : 123.9},
				{"statusId":1,"guid":"c7381a45-958b-4860-b60d-d2c725b7501d","opinionName":"ddd","startedResponses":0,"accountId":94,"sourceTypeId":1,"name":"Default collector","collectorId":236,"modifyDate":"Nov 11, 2012","createDate":"Nov 06, 2012","opinionId":170},
				{"statusId":1,"guid":"c7381a45-958b-4860-b60d-d2c725b7501d","opinionName":"ddd","startedResponses":0,"accountId":94,"sourceTypeId":1,"name":"Default collector","collectorId":238,"modifyDate":"Nov 11, 2012","createDate":"Nov 06, 2012","opinionId":170},
				{"statusId":1,"guid":"c7381a45-958b-4860-b60d-d2c725b7501d","opinionName":"ddd","startedResponses":0,"accountId":94,"sourceTypeId":1,"name":"Default collector","collectorId":240,"modifyDate":"Nov 11, 2012","createDate":"Nov 06, 2012","opinionId":170}
			];
			
			renderTableCollectors();
			
			
			
			
			
			$('#link_rename_survey_name').click(function() {
				
				var I = $("<div>" +
						"<div class=\"params\">" +
							"<div class=\"param-name\">* Survey Name:</div>" +
								"<div class=\"param-value\">" +
									"<div><input type=\"text\" id=\"text_rename_survey_name\" name=\"rename_survey_name\" maxlength=\"254\" autocomplete=\"off\" /></div>" +
									"<div><label id=\"status_rename_survey_name\"></label></div>" +
								"</div>" +
							"</div>" +
						"</div>");
					
					var prevData = null;
					var surveyName = null;
					var dialog = $('#label_survey_name').lightDialog({
						message : I,
						actions : [
							{
								label : "Save",
								fire : function() {
								
									//alert(surveyName.val()) // save data
									$('#link_rename_survey_name').show();
									
									// cancel
									dialog.hide()
									
								}
							},
							{
								label : "Cancel",
								fire : function() {
									
									$("#label_survey_name").text(prevData);
									$('#link_rename_survey_name').show();
									// cancel
									dialog.hide()
								},
								color : "white"
							}
						],
						complete : function() {
							
							prevData = $("#label_survey_name").text();
							surveyName = I.find("#text_rename_survey_name");
								surveyName
									.val($("#label_survey_name").text())
									.select()
									.keyup(function(event) {
										$("#label_survey_name").text($.trim(surveyName.val()) != "" ? surveyName.val() : "Name the survey");
									}).keydown(function(event) {
										
										// enter
										if (event.which == 13) {
											
											$('#link_rename_survey_name').show();
											// cancel
											dialog.hide()
											
											//event.preventDefault();
										}
										
										// esc
										if(event.which == 27){
											
											$("#label_survey_name").text(prevData);
											$('#link_rename_survey_name').show();
											// cancel
											dialog.hide()
										}
										
										// extra
										if(event.which == 8) {
											if($.trim(surveyName.val()) != "") {
												$("#label_survey_name").text(surveyName.val());
											}
										}
									})
									.inputMask({ defaultValue : 'Name the survey' });
									
							
						}
					});
					
					$('#link_rename_survey_name').hide();
				
			});
			
			
			
			
			
			
			
			
			
			
			
			$('#text_total').blur(function() {
				//$('#text_total').formatCurrency({ symbol : "" });
				$('#text_total').val(Number($('#text_total').val().replace(/,/g, "")).formatCurrency(2, '.', ','));
			}); 
			
			
			//$('#label_total').text((122123).formatCurrency(2, '.', ','));
			$('#label_total').text((-123).formatCurrency(2, '.', ','));
						
			
			
			
			
			
			
			
			
			
			
			var W = Raphael("svg", 680, 390);
			
			//var W = Raphael("svg", 910, 510);
			W.setStart();

	
			for (var country in countries) {
		        var c = W.path(countries[country]);
		        c.attr({
		            fill: "#f5f5f5", // #fff
		            stroke: "#bbb", // #29447E
		            "stroke-width": 1,
					"stroke-linejoin": "round"
		        }).hover(function(){
					this.attr({
						stroke: "#666"
					});
				}, function(){
					this.attr({
						stroke: "#bbb"
					});
				});
		        
		        
		        var d = findCountry(country);
		        if(d != null) {
		        	c.attr({ 
		        		//fill : demographicColors[Math.round((Math.round(d.count / data.max * 100) / 11))],
		        		fill : "#8fbf27",
		        		"fill-opacity" : (Math.round((Math.round(d.count / data.max * 100) / 10)) == 10 ? "1" : "0." + Math.round((Math.round(d.count / data.max * 100) / 10))),
		        		stroke : "#8fbf27" // "#26437B"
		        	}).hover(function(){
		        		this.attr({
							stroke: "#5C8718"
						});
					}, function(){
						this.attr({
							stroke: "#8fbf27"
						});
					});
		        	
		        	
		        	
		        	
		        	/*
		        	.tipsy({
						gravity: 'sw', 
						title: function() { 
							return "TEST"; // this.getAttribute('original-title'); 
						}
					})
					*/
		        	
		        	
		        	$("<li>" + d.count + " -> " + Math.round((Math.round(d.count / data.max * 100) / 11)) + " - " + d.country + " - " + data.max +  "</li>").appendTo("#list_countries");
		        }
		        
		        
		        
		        
		        // min
		        $(".demographic-min").text((data.countries.length != 0 ? 1 : 0));
		        // max
		        $(".demographic-max").text(data.max);
		        
		    }
			
			var world = W.setFinish();
			
			
			
			world.getXY = function (lat, lon) {
				
				//var MAP_WIDTH = 910;
				//var MAP_HEIGHT = 508;
				
				//var x = ((MAP_WIDTH/360.0) * (180 + lon));
				//var y = ((MAP_HEIGHT/180.0) * (90 - lat));
				
				
				return {
                    cx: lon * 2.6938 + 424.4,
                    cy: lat * -2.6938 + 327
                };
				
                //return {
                //    cx: lon * 2.6938 + 465.4,
                //    cy: lat * -2.6938 + 227.066
                //};
                
            };
            world.getLatLon = function (x, y) {
                
            	return {
                    lat: (y - 327.066) / -2.6938,
                    lon: (x - 424.4) / 2.6938
                };
            	
            	//return {
                //    lat: (y - 227.066) / -2.6938,
                //    lon: (x - 465.4) / 2.6938
                //};
               
            };
            var latlonrg = /(\d+(?:\.\d+)?)[\xb0\s]?\s*(?:(\d+(?:\.\d+)?)['\u2019\u2032\s])?\s*(?:(\d+(?:\.\d+)?)["\u201d\u2033\s])?\s*([SNEW])?/i;
            world.parseLatLon = function (latlon) {
                var m = String(latlon).split(latlonrg),
                    lat = m && +m[1] + (m[2] || 0) / 60 + (m[3] || 0) / 3600;
                if (m[4].toUpperCase() == "S") {
                    lat = -lat;
                }
                var lon = m && +m[6] + (m[7] || 0) / 60 + (m[8] || 0) / 3600;
                if (m[9].toUpperCase() == "W") {
                    lon = -lon;
                }
                return this.getXY(lat, lon);
            };
			
            
            /*
			try {
                navigator.geolocation && navigator.geolocation.getCurrentPosition(function (pos) {
                    W.circle()
                     .attr({fill: "none", stroke: "#f00", r: 5})
                     .attr(world.getXY(pos.coords.latitude, pos.coords.longitude));
                });
            } catch (e) {}
			*/
			
            
            
            
            /*
            // dots
            var dot = W.circle().attr({fill: "r#FE7727:50-#F57124:100", stroke: "#fff", "stroke-width": 2, r: 0});
            
            
            $('#button_find').click(function() {
            	var attr = world.parseLatLon($('#latlon').val());
                attr.r = 0;
                dot.stop()
                	.attr(attr)
                	.animate({r: 5}, 1000, "elastic");
                // dot2.stop().attr(attr).animate({r: 10}, 1000, "elastic");
                return false;
            });
            
            
            $('#cities li > a').click(function() { 
            	
            	var href = $(this).attr('href'); 
            	var txt = decodeURIComponent(href.substring(href.indexOf("#") + 1)),
                attr = world.parseLatLon(txt);
            	$('#latlon').val(txt);
	            attr.r = 0;
	            dot.stop()
	            	.attr(attr)
	            	.animate({r: 5}, 1000, "elastic");
	            // dot2.stop().attr(attr).animate({r: 10}, 1000, "elastic");
	            return false;
	            
            	
            });
            */
            
            
			
		});
		</script>
	
	</body>
</html>